<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete guide to using Purdue GenAI Studio API for educational applications with Python examples">
    <title>Purdue GenAI Studio API Tutorial for Educators</title>
    <style>
        :root {
            --purdue-gold: #CFB991;
            --purdue-black: #000000;
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #64748b;
            --bg: #ffffff;
            --bg-alt: #f8fafc;
            --text: #1e293b;
            --text-light: #475569;
            --border: #e2e8f0;
            --code-bg: #f1f5f9;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: var(--bg);
            font-size: 17px;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }

        header {
            background: linear-gradient(135deg, var(--purdue-black) 0%, #1a1a1a 100%);
            color: white;
            padding: 48px 0;
            margin-bottom: 0;
            border-bottom: 4px solid var(--purdue-gold);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.25rem;
            opacity: 0.95;
            font-weight: 400;
            color: var(--purdue-gold);
        }

        .content-wrapper {
            display: flex;
            gap: 48px;
            align-items: flex-start;
            padding: 48px 0;
        }

        nav {
            flex: 0 0 280px;
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            position: sticky;
            top: 24px;
            align-self: flex-start;
        }

        main {
            flex: 1;
            min-width: 0;
        }

        nav h2 {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--secondary);
            margin-bottom: 16px;
            font-weight: 600;
        }

        nav ol {
            list-style: none;
            counter-reset: section;
        }

        nav li {
            counter-increment: section;
            margin-bottom: 8px;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            display: block;
            padding: 4px 0;
            transition: color 0.2s;
        }

        nav a:hover {
            color: var(--primary);
        }

        nav a::before {
            content: counter(section) ". ";
            color: var(--secondary);
            font-weight: 600;
        }

        main h2 {
            font-size: 2rem;
            margin-top: 64px;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--purdue-gold);
            font-weight: 700;
        }

        main h3 {
            font-size: 1.5rem;
            margin-top: 40px;
            margin-bottom: 16px;
            font-weight: 600;
            color: var(--purdue-black);
        }

        main h4 {
            font-size: 1.25rem;
            margin-top: 32px;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--text);
        }

        p {
            margin-bottom: 20px;
        }

        strong {
            font-weight: 600;
            color: var(--text);
        }

        code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
            font-size: 0.9em;
            color: var(--primary-dark);
        }

        pre {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 24px 0;
            line-height: 1.5;
        }

        pre code {
            background: none;
            padding: 0;
            border-radius: 0;
            color: var(--text);
            font-size: 0.875rem;
        }

        .code-header {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            padding: 8px 16px;
            font-size: 0.875rem;
            color: var(--secondary);
            font-weight: 500;
            margin-bottom: 0;
        }

        .code-header + pre {
            margin-top: 0;
            border-radius: 0 0 8px 8px;
        }

        .callout {
            background: var(--bg-alt);
            border-left: 4px solid var(--primary);
            padding: 16px 20px;
            margin: 24px 0;
            border-radius: 0 8px 8px 0;
        }

        .callout-warning {
            border-left-color: var(--warning);
            background: #fffbeb;
        }

        .callout-success {
            border-left-color: var(--success);
            background: #f0fdf4;
        }

        .callout-danger {
            border-left-color: var(--danger);
            background: #fef2f2;
        }

        .callout-info {
            border-left-color: var(--info);
            background: #eff6ff;
        }

        .callout p:last-child {
            margin-bottom: 0;
        }

        .callout strong {
            color: var(--purdue-black);
        }

        ul, ol {
            margin: 16px 0 24px 24px;
        }

        li {
            margin-bottom: 8px;
        }

        a {
            color: var(--primary);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 8px;
        }

        .badge-success {
            background: var(--success);
            color: white;
        }

        .badge-warning {
            background: var(--warning);
            color: white;
        }

        .badge-info {
            background: var(--info);
            color: white;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }

        .feature-card {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 24px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--purdue-black);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-alt);
            font-weight: 600;
            color: var(--purdue-black);
        }

        tr:hover {
            background: var(--bg-alt);
        }

        footer {
            margin-top: 80px;
            padding: 32px 0;
            border-top: 1px solid var(--border);
            color: var(--text-light);
            text-align: center;
        }

        .hero-stats {
            display: flex;
            gap: 32px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--purdue-gold);
        }

        .stat-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            main h2 {
                font-size: 1.75rem;
            }

            main h3 {
                font-size: 1.25rem;
            }

            .content-wrapper {
                flex-direction: column;
                gap: 24px;
            }

            nav {
                position: static;
                flex: 1 1 auto;
                width: 100%;
            }

            pre {
                padding: 16px;
            }

            .hero-stats {
                justify-content: center;
            }
        }

        @media print {
            nav {
                display: none;
            }
            
            header {
                background: none;
                color: var(--text);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Purdue GenAI Studio API Tutorial</h1>
            <p class="subtitle">A Practical Guide for Educators with Minimal Working Examples</p>
        </div>
    </header>

    <div class="container">
        <div class="content-wrapper">
            <nav>
                <h2>Table of Contents</h2>
                <ol>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li><a href="#basic-usage">Basic API Usage</a></li>
                    <li><a href="#use-cases">Educational Use Cases</a></li>
                    <li><a href="#best-practices">Best Practices</a></li>
                    <li><a href="#troubleshooting">Troubleshooting</a></li>
                    <li><a href="#resources">Resources</a></li>
                </ol>
            </nav>

            <main>
                <section id="introduction">
                    <p>
                        This tutorial provides <strong>minimal, practical examples</strong> for integrating Purdue's GenAI Studio into your course. Unlike production chatbots, these examples focus on teaching core concepts with simple, ready-to-run Python scripts. By the end, you'll understand how to create AI-powered educational tools while keeping all student data on Purdue-managed infrastructure.
                    </p>
                </section>

                <section id="overview">
                    <h2>Overview</h2>
                    
                    <h3>What is Purdue GenAI Studio?</h3>
                    
                    <p>
                        Purdue's GenAI Studio is an <strong>on-premises AI infrastructure</strong> hosted on RCAC's community cluster. It provides faculty and students with access to large language models without sending data to external commercial LLM providers.
                    </p>

                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">üîí</div>
                            <h4>Data Sovereignty</h4>
                            <p>
                                All prompts and documents are processed on Purdue RCAC‚Äôs on-premises systems
                                instead of commercial cloud LLM providers. This helps support institutional
                                privacy obligations, but you should still avoid uploading sensitive or regulated
                                data (for example, FERPA-protected student records or highly restricted content).
                            </p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üéì</div>
                            <h4>Custom Models</h4>
                            <p>Upload course materials to create course-specific AI assistants with retrieval-augmented generation.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">‚ö°</div>
                            <h4>OpenAI Compatible</h4>
                            <p>Works with standard OpenAI-style libraries and existing tools via a compatible API.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üí∞</div>
                            <h4>Available for Purdue</h4>
                            <p>
                                Currently available at no direct cost for Purdue faculty, staff, and students while
                                the service is in pilot. Check RCAC‚Äôs GenAI Studio documentation for any future
                                changes to access or quotas.
                            </p>
                        </div>
                    </div>

                    <h3>Key Benefits for Educators</h3>

                    <div class="callout callout-success">
                        <p><strong>Why Use GenAI Studio?</strong></p>
                        <ul>
                            <li>‚úÖ <strong>Privacy</strong>: Prompts and documents stay on Purdue-controlled infrastructure</li>
                            <li>‚úÖ <strong>Customization</strong>: Attach your own course materials via knowledge bases</li>
                            <li>‚úÖ <strong>Integration</strong>: Works with standard Python HTTP libraries and tools</li>
                            <li>‚úÖ <strong>Cost</strong>: No direct usage fee for Purdue community during the pilot</li>
                        </ul>
                    </div>
                </section>

                <section id="getting-started">
                    <h2>Getting Started</h2>

                    <h3>Prerequisite: Python and Required Packages</h3>

                    <p>
                        All of the examples on this page use standard Python 3 and a few small libraries.
                        You can run them on Windows, macOS, Linux, or Windows Subsystem for Linux (WSL).
                        If you already have a working Python 3.10+ setup with <code>pip</code>, you can
                        skip ahead to <strong>Step 1</strong>.
                    </p>

                    <h4>1. Install or verify Python 3</h4>

                    <ul>
                        <li>
                            <strong>Windows:</strong> Visit
                            <a href="https://www.python.org/downloads/windows/" target="_blank" rel="noopener">
                                python.org/downloads/windows
                            </a>
                            and install the latest Python 3 release. Make sure to check
                            <strong>"Add Python to PATH"</strong> during installation. After installation,
                            open <code>Command Prompt</code> and run:
                            <pre><code>python --version
py --version</code></pre>
                            One of these should report a Python 3.x version.
                        </li>
                        <li>
                            <strong>macOS:</strong> Download the official installer from
                            <a href="https://www.python.org/downloads/macos/" target="_blank" rel="noopener">
                                python.org/downloads/macos
                            </a>.
                            After installation, open <code>Terminal</code> and run:
                            <pre><code>python3 --version</code></pre>
                            to confirm that Python 3 is available.
                        </li>
                        <li>
                            <strong>Linux:</strong> Most distributions ship Python 3 by default. Check with:
                            <pre><code>python3 --version</code></pre>
                            If it is missing or very old, install via your package manager
                            (for example, <code>sudo apt install python3 python3-pip</code> on Ubuntu).
                        </li>
                        <li>
                            <strong>Windows Subsystem for Linux (WSL):</strong> If you prefer a Linux shell
                            inside Windows, you can install WSL by running
                            <code>wsl --install</code> in an elevated PowerShell window, then restarting.
                            See Microsoft‚Äôs guide:
                            <a href="https://learn.microsoft.com/windows/wsl/install" target="_blank" rel="noopener">
                                learn.microsoft.com/windows/wsl/install
                            </a>.
                            Once WSL is installed, open your WSL terminal and use the Linux instructions above.
                        </li>
                    </ul>

                    <h4>2. Create a virtual environment (recommended)</h4>

                    <p>
                        A <strong>virtual environment</strong> keeps the packages for this project isolated
                        from your other Python projects. The built-in <code>venv</code> module is sufficient
                        for most teaching use-cases. For more background, see the Python tutorial on virtual
                        environments:
                        <a href="https://docs.python.org/3/tutorial/venv.html" target="_blank" rel="noopener">
                            docs.python.org/3/tutorial/venv.html
                        </a>.
                    </p>

                    <div class="code-header">Create and activate a virtual environment</div>
                    <pre><code># Create a virtual environment named .venv
# macOS / Linux / WSL
python3 -m venv .venv

# Windows (Command Prompt or PowerShell)
python -m venv .venv

# Activate it
# macOS / Linux / WSL
source .venv/bin/activate

# Windows Command Prompt
.venv\Scripts\activate

# Windows PowerShell
.venv\Scripts\Activate.ps1</code></pre>

                    <p>
                        When the environment is active, your shell prompt will usually show <code>(.venv)</code>.
                        Any packages you install with <code>pip</code> now stay inside this project folder.
                    </p>

                    <h4>3. Install required Python packages</h4>

                    <p>
                        These examples use two external libraries:
                        <code>requests</code> for HTTP calls and <code>python-dotenv</code> for loading
                        environment variables from a <code>.env</code> file. Install them with:
                    </p>

                    <div class="code-header">Install packages with pip</div>
                    <pre><code>pip install requests python-dotenv</code></pre>

                    <p>
                        To make your environment reproducible (and to match the examples), create a
                        <code>requirements.txt</code> file:
                    </p>

                    <div class="code-header">requirements.txt</div>
                    <pre><code>requests&gt;=2.32.0
python-dotenv&gt;=1.0.0</code></pre>

                    <p>
                        Then anyone (including a shared teaching server or Codespaces) can install the
                        same dependencies with:
                    </p>

                    <pre><code>pip install -r requirements.txt</code></pre>

                    <div class="callout callout-info">
                        <p><strong>Tip:</strong> For more details on installing packages with <code>pip</code>,
                        see the Python packaging guide:
                        <a href="https://packaging.python.org/tutorials/installing-packages/" target="_blank" rel="noopener">
                            packaging.python.org/tutorials/installing-packages/
                        </a>.
                        </p>
                    </div>

                    <h3>Step 1: Access GenAI Studio</h3>

                    <ol>
                        <li>Navigate to <a href="https://genai.rcac.purdue.edu" target="_blank">genai.rcac.purdue.edu</a></li>
                        <li>Log in with your Purdue credentials</li>
                        <li>You'll see the OpenWebUI interface</li>
                    </ol>

                    <h3>Step 2: Generate an API Key</h3>

                    <ol>
                        <li>Click your profile icon (top right)</li>
                        <li>Go to <strong>Settings ‚Üí Account</strong></li>
                        <li>Under <strong>API Keys</strong>, click <strong>Create new secret key</strong></li>
                        <li>Copy and save your API key securely (it won't be shown again)</li>
                    </ol>

                    <div class="callout callout-warning">
                        <p><strong>Security Note:</strong> Never commit API keys to version control. Always use environment variables and add <code>.env</code> files to your <code>.gitignore</code>.</p>
                    </div>

                    <h3>Step 3: Set Your API Key as an Environment Variable</h3>

                    <p>Your API key needs to be accessible to Python scripts. Here's how to set it on different operating systems:</p>

                    <h4>Linux and macOS (Terminal)</h4>

                    <p><strong>Temporary (current session only):</strong></p>
                    <div class="code-header">bash</div>
                    <pre><code>export GENAI_API_KEY="sk-your-key-here"</code></pre>

                    <p><strong>Permanent (recommended):</strong></p>
                    <p>Add the export command to your shell configuration file:</p>

                    <div class="code-header">For bash (most common)</div>
                    <pre><code># Edit your ~/.bashrc file
echo 'export GENAI_API_KEY="sk-your-key-here"' >> ~/.bashrc

# Reload the file
source ~/.bashrc</code></pre>

                    <div class="code-header">For zsh (macOS default since Catalina)</div>
                    <pre><code># Edit your ~/.zshrc file
echo 'export GENAI_API_KEY="sk-your-key-here"' >> ~/.zshrc

# Reload the file
source ~/.zshrc</code></pre>

                    <h4>Windows (Command Prompt)</h4>

                    <p><strong>Temporary (current session only):</strong></p>
                    <div class="code-header">cmd</div>
                    <pre><code>set GENAI_API_KEY=sk-your-key-here</code></pre>

                    <p><strong>Permanent (system-wide):</strong></p>
                    <div class="code-header">cmd (run as Administrator)</div>
                    <pre><code>setx GENAI_API_KEY "sk-your-key-here"</code></pre>

                    <div class="callout callout-info">
                        <p><strong>Note:</strong> After using <code>setx</code>, close and reopen your command prompt for the change to take effect.</p>
                    </div>

                    <h4>Windows (PowerShell)</h4>

                    <p><strong>Temporary (current session only):</strong></p>
                    <div class="code-header">PowerShell</div>
                    <pre><code>$env:GENAI_API_KEY = "sk-your-key-here"</code></pre>

                    <p><strong>Permanent (user-level):</strong></p>
                    <div class="code-header">PowerShell (run as Administrator)</div>
                    <pre><code>[System.Environment]::SetEnvironmentVariable('GENAI_API_KEY', 'sk-your-key-here', 'User')</code></pre>

                    <h4>Windows Subsystem for Linux (WSL)</h4>

                    <p>Use the same commands as Linux (bash), but set them <strong>inside your WSL terminal</strong>:</p>

                    <div class="code-header">WSL Terminal</div>
                    <pre><code># Temporary
export GENAI_API_KEY="sk-your-key-here"

# Permanent - add to ~/.bashrc
echo 'export GENAI_API_KEY="sk-your-key-here"' >> ~/.bashrc
source ~/.bashrc</code></pre>

                    <h4>Using a .env File (Recommended for Projects)</h4>

                    <p>For better security and portability, use a <code>.env</code> file with the <code>python-dotenv</code> package:</p>

                    <div class="code-header">1. Install python-dotenv</div>
                    <pre><code>pip install python-dotenv</code></pre>

                    <div class="code-header">2. Create a .env file in your project directory</div>
                    <pre><code># .env
GENAI_API_KEY=sk-your-key-here</code></pre>

                    <div class="code-header">3. Add .env to your .gitignore</div>
                    <pre><code># .gitignore
.env
*.env</code></pre>

                    <div class="code-header">4. Load in your Python script</div>
                    <pre><code>from dotenv import load_dotenv
import os

# Load environment variables from .env file
load_dotenv()

# Now you can use os.environ.get()
API_KEY = os.environ.get("GENAI_API_KEY")</code></pre>

                    <h4>Verifying Your Environment Variable</h4>

                    <p>Check that your API key is set correctly:</p>

                    <div class="code-header">Linux/macOS/WSL</div>
                    <pre><code>echo $GENAI_API_KEY</code></pre>

                    <div class="code-header">Windows Command Prompt</div>
                    <pre><code>echo %GENAI_API_KEY%</code></pre>

                    <div class="code-header">Windows PowerShell</div>
                    <pre><code>echo $env:GENAI_API_KEY</code></pre>

                    <div class="code-header">Python (any OS)</div>
                    <pre><code>python -c "import os; print(os.environ.get('GENAI_API_KEY', 'NOT SET'))"</code></pre>

                    <div class="callout callout-success">
                        <p><strong>Success!</strong> If you see your API key (starting with <code>sk-</code>), you're ready to go. If you see "NOT SET" or nothing, review the steps above.</p>
                    </div>

                    <h3>Step 4: Create a Custom Model (Optional)</h3>

                    <p>If you want a model that references your specific course materials:</p>

                    <ol>
                        <li>In GenAI Studio, go to <strong>Workspace ‚Üí Knowledge</strong></li>
                        <li>Click <strong>+</strong> to create a new knowledge base</li>
                        <li>Upload your course materials (PDFs, text files, etc.)</li>
                        <li>Go to <strong>Workspace ‚Üí Models</strong></li>
                        <li>Click <strong>+</strong> to create a new model</li>
                        <li>Select a base model (e.g., <code>llama3</code>, <code>deepseek-r1</code>)</li>
                        <li>Attach your knowledge base</li>
                        <li>Add a system prompt with course-specific instructions</li>
                        <li>Name your model (e.g., <code>gpt-stat350</code>, <code>cs180-assistant</code>)</li>
                        <li>
                            RCAC recommends that you do not upload documents containing sensitive or regulated
                            information (for example, FERPA-protected data or highly restricted research data).
                        </li>
                    </ol>

                    <div class="callout callout-info">
                        <p><strong>Quick Start Option:</strong> You can use existing base models without creating a custom one. Custom models are most useful when you want the AI to reference specific course materials.</p>
                    </div>
                </section>

                <section id="basic-usage">
                    <h2>Basic API Usage</h2>

                    <h3>Example 1: Simple Chat Completion</h3>

                    <p>The most basic example - ask a question and get a response.</p>

                    <div class="code-header">simple_chat.py</div>
                    <pre><code>#!/usr/bin/env python3
"""
Simple chat completion example using Purdue GenAI Studio
"""

import os
import requests

# Configuration
API_KEY = os.environ.get("GENAI_API_KEY")
BASE_URL = "https://genai.rcac.purdue.edu/api"
MODEL = "llama3"  # Use your custom model name like "gpt-stat350"

def chat(message):
    """Send a message and get a response"""
    
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    payload = {
        "model": MODEL,
        "messages": [
            {"role": "user", "content": message}
        ],
        "temperature": 0.7,
        "max_tokens": 500
    }
    
    response = requests.post(
        f"{BASE_URL}/chat/completions",
        headers=headers,
        json=payload,
        timeout=60
    )
    
    response.raise_for_status()
    result = response.json()
    
    return result['choices'][0]['message']['content']

# Example usage
if __name__ == "__main__":
    answer = chat("Explain the central limit theorem in simple terms.")
    print(answer)</code></pre>

                    <p><strong>Run it:</strong></p>
                    <pre><code>python simple_chat.py</code></pre>

                    <h3>Example 2: Multi-Turn Conversation</h3>

                    <p>Maintain context across multiple exchanges.</p>

                    <div class="code-header">multiturn_chat.py</div>
                    <pre><code>#!/usr/bin/env python3
"""
Multi-turn conversation example
"""

import os
import requests

API_KEY = os.environ.get("GENAI_API_KEY")
BASE_URL = "https://genai.rcac.purdue.edu/api"
MODEL = "llama3"

class ChatSession:
    """Maintains conversation history"""
    
    def __init__(self, system_prompt=None):
        self.messages = []
        if system_prompt:
            self.messages.append({
                "role": "system",
                "content": system_prompt
            })
    
    def send(self, user_message):
        """Send a message and get response"""
        
        # Add user message
        self.messages.append({
            "role": "user",
            "content": user_message
        })
        
        # Call API
        headers = {
            "Authorization": f"Bearer {API_KEY}",
            "Content-Type": "application/json"
        }
        
        payload = {
            "model": MODEL,
            "messages": self.messages,
            "temperature": 0.7
        }
        
        response = requests.post(
            f"{BASE_URL}/chat/completions",
            headers=headers,
            json=payload,
            timeout=60
        )
        
        response.raise_for_status()
        result = response.json()
        
        # Add assistant response to history
        assistant_message = result['choices'][0]['message']['content']
        self.messages.append({
            "role": "assistant",
            "content": assistant_message
        })
        
        return assistant_message

# Example usage
if __name__ == "__main__":
    # Create session with system prompt
    session = ChatSession(
        system_prompt="You are a helpful statistics tutor. "
                     "Explain concepts clearly with examples."
    )
    
    # Multi-turn conversation
    print("Q1:", session.send("What is a p-value?"))
    print("\n" + "="*50 + "\n")
    
    print("Q2:", session.send("Give me an example calculation."))
    print("\n" + "="*50 + "\n")
    
    print("Q3:", session.send("How do I interpret it?"))</code></pre>

                    <h3>Example 3: Batch Processing</h3>

                    <p>Process multiple questions from a file and save results to JSON.</p>

                    <div class="code-header">batch_process.py</div>
                    <pre><code>#!/usr/bin/env python3
"""
Batch process student questions
"""

import os
import requests
import json
from typing import List, Dict

API_KEY = os.environ.get("GENAI_API_KEY")
BASE_URL = "https://genai.rcac.purdue.edu/api"
MODEL = "llama3"

def answer_question(question: str) -> Dict:
    """Answer a single question"""
    
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    payload = {
        "model": MODEL,
        "messages": [
            {
                "role": "system",
                "content": "You are a course assistant. Provide clear answers."
            },
            {
                "role": "user",
                "content": question
            }
        ],
        "temperature": 0.5,
        "max_tokens": 300
    }
    
    try:
        response = requests.post(
            f"{BASE_URL}/chat/completions",
            headers=headers,
            json=payload,
            timeout=60
        )
        response.raise_for_status()
        result = response.json()
        
        return {
            "question": question,
            "answer": result['choices'][0]['message']['content'],
            "success": True
        }
    
    except Exception as e:
        return {
            "question": question,
            "answer": None,
            "success": False,
            "error": str(e)
        }

def batch_process(questions: List[str], output_file: str = "answers.json"):
    """Process multiple questions and save results"""
    
    results = []
    
    for i, question in enumerate(questions, 1):
        print(f"Processing question {i}/{len(questions)}...")
        result = answer_question(question)
        results.append(result)
    
    # Save to file
    with open(output_file, 'w') as f:
        json.dump(results, f, indent=2)
    
    print(f"\nResults saved to {output_file}")
    return results

# Example usage
if __name__ == "__main__":
    questions = [
        "What is the difference between population and sample?",
        "How do I calculate a confidence interval?",
        "When should I use a t-test vs a z-test?",
        "What does 'statistically significant' mean?",
    ]
    
    batch_process(questions)</code></pre>

                    <h3>Temperature Settings Guide</h3>

                    <table>
                        <thead>
                            <tr>
                                <th>Temperature</th>
                                <th>Use Case</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>0.2 - 0.3</td>
                                <td>Factual, consistent responses</td>
                                <td>Definitions, calculations, formulas</td>
                            </tr>
                            <tr>
                                <td>0.5 - 0.7</td>
                                <td>Balanced responses</td>
                                <td>General Q&amp;A, explanations</td>
                            </tr>
                            <tr>
                                <td>0.8 - 1.0</td>
                                <td>Creative responses</td>
                                <td>Feedback, brainstorming, essays</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section id="use-cases">
                    <h2>Educational Use Cases</h2>

                    <h3>1. Office Hours Assistant</h3>

                    <div class="code-header">Example Implementation</div>
                    <pre><code>system_prompt = """You are a teaching assistant for STAT 350.

Context:
- You are supporting an undergraduate introductory statistics course.
- The primary resources are the course textbook and official course notes.

Pedagogical behavior:
- Ask 1-2 clarifying questions if the student's question is vague.
- Provide hints and partial steps rather than complete solutions to graded problems.
- Use simple numeric examples and short algebraic steps.
- Encourage the student to try intermediate steps before giving the final result.

Boundaries:
- Do not give full solutions to current graded homework or take-home exams.
- If you are unsure or information is missing, say so clearly and suggest next steps.
"""

session = ChatSession(system_prompt)
response = session.send("I'm stuck on homework problem 3")</code></pre>

                    <h3>2. Assignment Feedback Generator</h3>

                    <div class="code-header">Example Implementation</div>
                    <pre><code>def generate_feedback(submission: str, rubric: str):
    """Generate constructive feedback based on a rubric"""
    
    system_prompt = """You are an instructor writing formative feedback.

Audience:
- Undergraduate students in a statistics or data science course.

Goals:
- Emphasize conceptual understanding and communication, not perfection.
- Be specific and actionable, but keep tone supportive and professional.

When responding:
- Use the rubric criteria explicitly.
- Separate feedback into: Strengths, Areas for improvement, and Specific suggestions.
- Avoid giving a numeric grade unless explicitly requested.
- If the submission is incomplete, focus on what is present and suggest next steps.
"""
    
    prompt = f"""Review this submission against the rubric.
Provide specific, constructive feedback.

Rubric:
{rubric}

Submission:
{submission}

Format your feedback as:
1. Strengths
2. Areas for improvement
3. Specific suggestions
"""
    
    return chat(prompt)</code></pre>

                    <h3>3. Study Guide Generator</h3>

                    <div class="code-header">Example Implementation</div>
                    <pre><code>def create_study_guide(topic: str, lecture_notes: str):
    """Generate a study guide from lecture notes"""
    
    system_prompt = """You are a study guide generator for an undergraduate course.

Objectives:
- Distill long notes into a concise, well-organized study guide.
- Highlight threshold concepts and common misconceptions.
- Include a few practice questions that match the course level.

Style:
- Use clear headings and bullet points.
- Keep formulas readable in plain text or LaTeX-style notation.
- Avoid informal language; write in a neutral, instructional tone.
"""
    
    prompt = f"""Create a study guide for: {topic}

Based on these lecture notes:
{lecture_notes}

Include:
- Key concepts and definitions
- Important formulas or principles
- Practice questions
- Common misconceptions
"""
    
    return chat(prompt)</code></pre>

                    <h3>4. Quiz Question Generator</h3>

                    <div class="code-header">Example Implementation</div>
                    <pre><code>def generate_quiz_questions(topic: str, difficulty: str, num_questions: int):
    """Generate quiz questions for a topic"""
    
    system_prompt = """You are generating quiz questions for an undergraduate class.

Design principles:
- Align difficulty with the stated level (easy, medium, hard).
- Test one main concept per question.
- Avoid trick questions and ambiguous wording.
- Make distractors (wrong answers) plausible but clearly incorrect.

Output format:
- JSON list where each item has:
  - "question"
  - "options" (A, B, C, D)
  - "answer" (single correct option letter)
  - "explanation" (short, focusing on the key idea)
"""
    
    prompt = f"""Generate {num_questions} {difficulty} level questions about {topic}.

For each question provide:
1. The question
2. Multiple choice options (A, B, C, D)
3. Correct answer
4. Brief explanation

Format as JSON.
"""
    
    return chat(prompt)</code></pre>
                </section>

                <section id="best-practices">
                    <h2>Best Practices</h2>

                    <h3>1. API Key Security</h3>

                    <div class="callout callout-danger">
                        <p><strong>‚ùå Never do this:</strong></p>
                        <pre><code>API_KEY = "sk-abc123..."  # Hardcoded in code</code></pre>
                    </div>

                    <div class="callout callout-success">
                        <p><strong>‚úÖ Do this instead:</strong></p>
                        <pre><code>import os
API_KEY = os.environ.get("GENAI_API_KEY")

if not API_KEY:
    raise ValueError("GENAI_API_KEY not set")</code></pre>
                    </div>

                    <h3>2. Error Handling</h3>

                    <p>Always wrap API calls in try-except blocks:</p>

                    <div class="code-header">Example</div>
                    <pre><code>try:
    response = requests.post(url, headers=headers, json=payload, timeout=60)
    response.raise_for_status()
    result = response.json()
except requests.exceptions.Timeout:
    print("Request timed out. Try again.")
except requests.exceptions.HTTPError as e:
    print(f"HTTP error: {e}")
except Exception as e:
    print(f"Unexpected error: {e}")</code></pre>

                    <h3>3. Rate Limiting</h3>

                    <p>Be respectful of shared resources:</p>

                    <div class="code-header">Example</div>
                    <pre><code>import time

def batch_with_delay(items, delay=1.0):
    """Process items with delay between requests"""
    for item in items:
        result = process_item(item)
        time.sleep(delay)  # Wait between requests
        yield result</code></pre>

                    <h3>4. System Prompts</h3>

                    <p>
                        The <strong>system prompt</strong> is the main place where you control the behavior of
                        the models available in GenAI Studio (for example, GPT-OSS, Llama 3/4, Gemma, DeepSeek).
                        It acts like a very concise syllabus for the assistant: who it is, what it should do,
                        how it should respond, and what it should avoid.
                    </p>

                    <div class="callout callout-info">
                        <p><strong>Effective System Prompts:</strong></p>
                        <p>
                            Good system prompts make the model:
                            <ul>
                                <li>Align with course goals and level (for example, STAT 350 vs graduate course)</li>
                                <li>Follow a consistent pedagogical style (for example, Socratic, stepwise, feedback-oriented)</li>
                                <li>Respect boundaries (no full solutions to graded work, acknowledge uncertainty)</li>
                                <li>Use the same notation, terminology, and conventions as your course</li>
                            </ul>
                        </p>
                    </div>

                    <h4>Core template for educational system prompts</h4>

                    <div class="code-header">Prompt pattern</div>
                    <pre><code>system_prompt = """Role:
- You are &lt;role&gt; for &lt;course / context&gt;.

Audience and level:
- &lt;Who the students are, and their approximate background.&gt;

Primary tasks:
- &lt;What you should help with: explanations, hints, study guides, feedback, etc.&gt;

Pedagogical style:
- &lt;How to teach: ask clarifying questions, give hints, scaffold reasoning, etc.&gt;

Constraints and boundaries:
- &lt;What you must not do: full graded solutions, policy violations, hallucinated citations.&gt;

Use of course resources:
- &lt;What materials to rely on (textbook, notes, instructor docs) when available.&gt;

Uncertainty:
- If you are unsure or lack information, say so explicitly and suggest reasonable next steps.
"""</code></pre>

                    <h4>Bad vs better system prompts</h4>

                    <div class="code-header">Bad Example</div>
                    <pre><code>system_prompt = "You are helpful."</code></pre>

                    <div class="code-header">Better Example (Course-aligned)</div>
                    <pre><code>system_prompt = """You are a statistics course assistant for STAT 350.

Audience:
- Undergraduate students with one semester of calculus (or less) and limited prior exposure
  to formal probability.

When answering:
- Use the same notation and terminology as the STAT 350 course materials.
- Start with a short conceptual explanation before any formula or computation.
- Ask the student 1-2 clarifying questions if the prompt is ambiguous.
- Offer hints and partial solutions before giving a complete worked example.

Boundaries:
- Do not provide full solutions to current graded homework or exams.
- If the question depends on information not provided, explain what is missing.
- If a question involves policy or grading decisions, defer to the instructor.
"""</code></pre>

                    <h4>Socratic and scaffolding strategies</h4>

                    <p>
                        You can push models like Llama, Gemma, DeepSeek, or GPT-OSS toward more Socratic behavior
                        and stepwise reasoning without overwhelming students. The key is to instruct the model to
                        <strong>work things out internally</strong> but present explanations in small, digestible steps.
                    </p>

                    <div class="code-header">Example: Socratic statistics tutor</div>
                    <pre><code>system_prompt = """You are a Socratic tutor for an introductory statistics course.

Style:
- Ask 1-3 short questions before giving a detailed solution.
- Reveal the solution in small steps, pausing to let the student think.
- Emphasize interpretation and intuition, not just formula substitution.

Answer format:
1. Briefly restate the student's goal in your own words.
2. Ask a targeted question that helps them identify the next step.
3. Provide a short hint or partial calculation.
4. Only give a full worked solution if the student explicitly asks or is stuck.

Safety and limitations:
- If you are not sure about an answer, say so and suggest what the student
  could check in the textbook or notes.
"""</code></pre>

                    <h4>Controlling tone and verbosity</h4>

                    <p>
                        Different open-source models can vary in verbosity and style. You can normalize this
                        with explicit instructions in the system prompt:
                    </p>

                    <div class="code-header">Tone and length control</div>
                    <pre><code>system_prompt = """You are an AI tutor for an undergraduate data science course.

Tone:
- Professional, neutral, and encouraging.
- Avoid jokes, emojis, or overly casual language.

Length:
- Aim for 2‚Äì4 short paragraphs for conceptual questions.
- Use bullet points for lists of steps or properties.
- If the student asks for more detail, you may elaborate further.
"""</code></pre>

                    <h4>Handling limitations and uncertainty</h4>

                    <p>
                        Regardless of the underlying model family (Llama, Gemma, DeepSeek, GPT-OSS, etc.),
                        it is important to set explicit expectations around limitations and uncertainty:
                    </p>

                    <div class="code-header">Limitations and honesty</div>
                    <pre><code>system_prompt = """General policies:

- If you are missing critical information (e.g., sample size, data values),
  state what is missing instead of guessing.
- If you are not confident in a numeric answer, say so and suggest how a student
  could verify the result (for example, using R, Python, or a calculator).
- Do not fabricate references, page numbers, or external links.
- When referencing course materials, refer to them generically
  (e.g., "the course notes on confidence intervals") unless a specific label
  is provided in the prompt.
"""</code></pre>
                </section>

                <section id="troubleshooting">
                    <h2>Troubleshooting</h2>

                    <h3>Common Issues and Solutions</h3>

                    <table>
                        <thead>
                            <tr>
                                <th>Issue</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>401 Unauthorized</td>
                                <td>Check your API key: <code>echo $GENAI_API_KEY</code></td>
                            </tr>
                            <tr>
                                <td>Model not found</td>
                                <td>Verify model name in GenAI Studio. Common: <code>llama3</code>, <code>deepseek-r1</code></td>
                            </tr>
                            <tr>
                                <td>Timeout errors</td>
                                <td>Increase timeout: <code>timeout=120</code> or reduce <code>max_tokens</code></td>
                            </tr>
                            <tr>
                                <td>Empty responses</td>
                                <td>Check prompt clarity and lower temperature: <code>temperature=0.5</code></td>
                            </tr>
                            <tr>
                                <td>Import errors</td>
                                <td>Run: <code>pip install -r requirements.txt</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Testing Your Setup</h3>

                    <p>Use the quickstart test script to verify everything works:</p>

                    <div class="code-header">bash</div>
                    <pre><code>python quickstart_test.py</code></pre>

                    <p>This will:</p>
                    <ul>
                        <li>‚úÖ Check if API key is set</li>
                        <li>‚úÖ List available models</li>
                        <li>‚úÖ Test a simple completion</li>
                        <li>‚úÖ Offer interactive demo</li>
                    </ul>
                </section>

                <section id="resources">
                    <h2>Resources</h2>

                    <h3>Documentation</h3>

                    <ul>
                        <li><a href="https://www.rcac.purdue.edu/knowledge/genaistudio" target="_blank">Purdue GenAI Studio</a> - Official RCAC documentation</li>
                        <li><a href="https://docs.openwebui.com/" target="_blank">OpenWebUI Docs</a> - Platform documentation</li>
                        <li><a href="https://platform.openai.com/docs/api-reference" target="_blank">OpenAI API Reference</a> - Compatible API format</li>
                    </ul>

                    <h3>Example Repositories</h3>

                    <ul>
                        <li><a href="https://github.com/treese41528/STAT350-LatticeAI" target="_blank">STAT350-LatticeAI</a> - Full Flask application example with database integration, file upload, and LaTeX rendering</li>
                    </ul>

                    <h3>Support</h3>

                    <ul>
                        <li><strong>RCAC Support</strong>: <a href="https://www.rcac.purdue.edu/contact" target="_blank">www.rcac.purdue.edu/contact</a></li>
                        <li><strong>GenAI Studio Office Hours</strong>: Check RCAC website for schedule</li>
                    </ul>
                </section>

                <section id="next-steps">
                    <h2>Next Steps</h2>

                    <div class="callout callout-success">
                        <p><strong>Ready to Start?</strong></p>
                        <ol>
                            <li>Set up Python and dependencies (virtual environment + <code>pip install -r requirements.txt</code>)</li>
                            <li>Get your API key from <a href="https://genai.rcac.purdue.edu" target="_blank">genai.rcac.purdue.edu</a></li>
                            <li>Try Example 1 to test basic connectivity</li>
                            <li>Create a custom model with your course materials (optional)</li>
                            <li>Build a simple tool for your specific use case</li>
                            <li>Share with students or use for course preparation</li>
                        </ol>
                    </div>

                    <h3>Example Workflow</h3>

                    <div class="code-header">Complete Setup</div>
                    <pre><code># 1. Create and activate virtual environment (recommended)
python -m venv .venv
# or: python3 -m venv .venv
# then activate as described above

# 2. Set API key (example for bash)
export GENAI_API_KEY="your-key-here"

# 3. Install dependencies
pip install -r requirements.txt

# 4. Test setup
python quickstart_test.py

# 5. Try an example
python simple_chat.py

# 6. Build something for your course!</code></pre>
                </section>
            </main>
        </div>

        <footer>
            <p>Purdue GenAI Studio Tutorial for Educators | Department of Statistics, Purdue University | 2025</p>
            <p style="margin-top: 8px; font-size: 0.875rem;">
                <a href="https://genai.rcac.purdue.edu" target="_blank">GenAI Studio</a> ‚Ä¢ 
                <a href="https://github.com/treese41528/STAT350-LatticeAI" target="_blank">Example Project</a> ‚Ä¢ 
                <a href="https://www.rcac.purdue.edu/knowledge/genaistudio" target="_blank">Documentation</a>
            </p>
        </footer>
    </div>
</body>
</html>
