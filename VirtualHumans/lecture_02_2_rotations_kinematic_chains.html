

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lecture 02.2 – Rotations and Kinematic Chains &mdash; Fitting SMPL to IMU Optimization</title>
      <link rel="stylesheet" type="text/css" href="/VirtualHumans/_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="/VirtualHumans/_static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="https://treese41528.github.io/VirtualHumans/lecture_02_2_rotations_kinematic_chains.html" />
      <script src="/VirtualHumans/_static/jquery.js?v=5d32c60e"></script>
      <script src="/VirtualHumans/_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="/VirtualHumans/_static/documentation_options.js?v=f2a433a1"></script>
      <script src="/VirtualHumans/_static/doctools.js?v=9bcbadda"></script>
      <script src="/VirtualHumans/_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/VirtualHumans/_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Lecture 03.1 – Surface Representations" href="lecture_03_1_surface_representations.html" />
    <link rel="prev" title="Lecture 02.1 – Image Formation" href="lecture_02_1_image_formation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Virtual Humans Lecture
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lecture_01_1_historical_body_models.html">Lecture 01.1 – Historical Body Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#early-origins-simplified-primitives-and-kinematic-skeletons-1970s1980s">Early Origins: Simplified Primitives and Kinematic Skeletons (1970s–1980s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#advances-in-the-1990s-superquadrics-differentiable-fitting-and-physical-models">Advances in the 1990s: Superquadrics, Differentiable Fitting, and Physical Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#the-impact-of-3d-scanning-and-data-from-anthropometry-to-statistical-models-1990s2000s">The Impact of 3D Scanning and Data: From Anthropometry to Statistical Models (1990s–2000s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#scape-and-the-emergence-of-pose-aware-models-mid-2000s">SCAPE and the Emergence of Pose-Aware Models (Mid-2000s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#consolidation-in-the-2010s-smpl-and-integration-with-learning-based-methods">Consolidation in the 2010s: SMPL and Integration with Learning-Based Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#deep-learning-and-neural-implicit-models-late-2010spresent">Deep Learning and Neural Implicit Models (Late 2010s–Present)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#timeline-summary-of-milestones">Timeline Summary of Milestones</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_1_historical_body_models.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html">Lecture 01.2 – Introduction to Human Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#historical-context-of-human-body-modeling">1. Historical Context of Human Body Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#early-developments">Early Developments</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#mid-20th-century-approaches">Mid-20th Century Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#data-driven-revolution-1990s-2000s">Data-Driven Revolution (1990s-2000s)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#mathematical-foundations-of-human-body-models">2. Mathematical Foundations of Human Body Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#the-smpl-model">The SMPL Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#pca-based-statistical-shape-modeling">PCA-Based Statistical Shape Modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#kinematic-modeling">Kinematic Modeling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#applications-of-human-body-models">3. Applications of Human Body Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#computer-animation-and-visual-effects">Computer Animation and Visual Effects</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#virtual-humans-and-avatars">Virtual Humans and Avatars</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#biomechanics-and-ergonomics">Biomechanics and Ergonomics</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#human-computer-interaction-hci">Human-Computer Interaction (HCI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#computer-vision-and-ai">Computer Vision and AI</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#education-and-training">Education and Training</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#challenges-and-future-directions">4. Challenges and Future Directions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#computational-efficiency">Computational Efficiency</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#accuracy-and-detail">Accuracy and Detail</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#generalization">Generalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#clothing-and-accessories">Clothing and Accessories</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#emerging-approaches">Emerging Approaches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_2_introduction_to_human_models.html#conclusion">5. Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html">Lecture 01.3 – Introduction to Human Models (Overview)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#historical-context">1. Historical Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#early-scientific-studies">Early Scientific Studies</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#mid-20th-century-to-digital-era">Mid-20th Century to Digital Era</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#st-century-advances">21st Century Advances</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#mathematical-foundations">2. Mathematical Foundations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#parametric-body-models">Parametric Body Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#implicit-surface-representations">Implicit Surface Representations</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#kinematic-modeling">Kinematic Modeling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#image-formation-and-rendering">3. Image Formation and Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#camera-models">Camera Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#shading-and-visibility">Shading and Visibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#differentiable-rendering">Differentiable Rendering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#surface-representation-methods">4. Surface Representation Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#explicit-mesh-models">Explicit Mesh Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#implicit-function-models">Implicit Function Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#motion-capture-and-behavior-synthesis">5. Motion Capture and Behavior Synthesis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#capturing-human-motion">Capturing Human Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#behavior-synthesis">Behavior Synthesis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#clothing-modeling">6. Clothing Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#physically-based-simulation">Physically-Based Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#data-driven-approaches">Data-Driven Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#implicit-clothing-models">Implicit Clothing Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#human-object-interaction">7. Human-Object Interaction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#physics-based-methods">Physics-Based Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#learning-based-approaches">Learning-Based Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#hybrid-systems">Hybrid Systems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#applications">8. Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#entertainment-and-media">Entertainment and Media</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#healthcare-and-biomechanics">Healthcare and Biomechanics</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#engineering-and-design">Engineering and Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#human-computer-interaction">Human-Computer Interaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#scientific-research">Scientific Research</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#challenges-and-future-directions">9. Challenges and Future Directions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#scalability-and-generalization">Scalability and Generalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#higher-fidelity-dynamics">Higher-Fidelity Dynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#data-and-labeling-constraints">Data and Labeling Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#physics-and-learning-integration">Physics and Learning Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#semantic-and-cognitive-aspects">Semantic and Cognitive Aspects</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_01_3_introduction_to_human_models_continued.html#realism-vs-controllability">Realism vs. Controllability</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_02_1_image_formation.html">Lecture 02.1 – Image Formation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#historical-developments-in-image-formation">1. Historical Developments in Image Formation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#ancient-and-medieval-optics-camera-obscura">Ancient and Medieval Optics – Camera Obscura</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#renaissance-perspective-and-geometry">Renaissance Perspective and Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#early-cameras-and-photographic-imaging">Early Cameras and Photographic Imaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#modern-developments">Modern Developments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#the-pinhole-camera-model">2. The Pinhole Camera Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#coordinate-setup">Coordinate Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#proof-by-similar-triangles">Proof by Similar Triangles</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#numerical-example">Numerical Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#inadequacy-of-a-simple-pinhole">Inadequacy of a Simple Pinhole</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#camera-intrinsics-and-the-projection-matrix">3. Camera Intrinsics and the Projection Matrix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#extrinsic-parameters">Extrinsic Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#full-projection-example">Full Projection Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#image-distortions-correction">4. Image Distortions &amp; Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#properties-of-perspective-projection">5. Properties of Perspective Projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#advanced-theoretical-extensions">6. Advanced Theoretical Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#light-field-imaging-and-plenoptic-cameras">Light Field Imaging and Plenoptic Cameras</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#non-conventional-imaging-techniques">Non-Conventional Imaging Techniques</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#applications-in-modern-vision-and-graphics">7. Applications in Modern Vision and Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#computer-vision-and-3d-reconstruction">Computer Vision and 3D Reconstruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#medical-imaging">Medical Imaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_02_1_image_formation.html#photorealistic-rendering-in-computer-graphics">Photorealistic Rendering in Computer Graphics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_02_1_image_formation.html#python-example-simulating-image-formation">8. Python Example: Simulating Image Formation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lecture 02.2 – Rotations and Kinematic Chains</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#representations-of-3d-rotations">1. Representations of 3D Rotations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-rotation-matrices">A) Rotation Matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#b-euler-angles">B) Euler Angles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c-quaternions">C) Quaternions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lie-algebra-so-3-and-exponential-map">2. Lie Algebra <span class="math notranslate nohighlight">\(so(3)\)</span> and Exponential Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rodrigues-rotation-formula">3. Rodrigues’ Rotation Formula</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kinematic-chains-forward-inverse-kinematics">4. Kinematic Chains: Forward &amp; Inverse Kinematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#comparison-of-rotation-representations">Comparison of Rotation Representations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_03_1_surface_representations.html">Lecture 03.1 – Surface Representations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#mathematical-foundations-of-surface-representations">1. Mathematical Foundations of Surface Representations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-parametric-surfaces">A) Parametric Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-implicit-surfaces">B) Implicit Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-explicit-surfaces">C) Explicit Surfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#surface-differential-properties">2. Surface Differential Properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-surface-normals">A) Surface Normals</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-fundamental-forms-and-curvature">B) Fundamental Forms and Curvature</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-geodesics">C) Geodesics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#discrete-surface-representations">3. Discrete Surface Representations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-polygon-meshes">A) Polygon Meshes</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-point-clouds">B) Point Clouds</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-signed-distance-fields-sdf">C) Signed Distance Fields (SDF)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#advanced-surface-representations">4. Advanced Surface Representations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-bezier-curves-and-surfaces">A) Bézier Curves and Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-b-splines-and-nurbs">B) B-Splines and NURBS</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-subdivision-surfaces">C) Subdivision Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#d-level-sets">D) Level Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#e-neural-implicit-representations">E) Neural Implicit Representations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#comparative-analysis-and-applications">5. Comparative Analysis and Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-computational-efficiency-and-storage">A) Computational Efficiency and Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-practical-applications">B) Practical Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-operations-complexity">C) Operations Complexity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#implementation-examples">6. Implementation Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-basic-mesh-processing-python">A) Basic Mesh Processing (Python)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-implicit-surface-utilities">B) Implicit Surface Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-bezier-curve-implementation">C) Bézier Curve Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#d-curvature-estimation-on-meshes">D) Curvature Estimation on Meshes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_1_surface_representations.html#advanced-topics-and-future-directions">7. Advanced Topics and Future Directions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#a-multi-resolution-representations">A) Multi-Resolution Representations</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#b-machine-learning-for-geometry">B) Machine Learning for Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#c-dynamic-surfaces">C) Dynamic Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_1_surface_representations.html#d-non-manifold-geometries">D) Non-Manifold Geometries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html">Lecture 03.2 – Procrustes Alignment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#goal-learning-a-model-of-pose-and-shape">Goal: Learning a Model of Pose and Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#the-challenge-of-registration">The Challenge of Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#surface-representation-mesh">Surface Representation: Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#the-procrustes-alignment-problem-mathematical-formulation">The Procrustes Alignment Problem: Mathematical Formulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#rigid-transformations">Rigid Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#procrustes-alignment-solution">Procrustes Alignment Solution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#decoupling-translation-by-centroid-alignment">Decoupling Translation by Centroid Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#optimal-rotation-via-svd">Optimal Rotation via SVD</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#reflection-adjustment">Reflection Adjustment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#optimal-scale-optional">Optimal Scale (Optional)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#complete-mathematical-derivation">Complete Mathematical Derivation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#translation-derivation">Translation Derivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#rotation-derivation">Rotation Derivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#scale-derivation">Scale Derivation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#summary-of-procrustes-alignment-algorithm">Summary of Procrustes Alignment Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#python-implementation-example">Python Implementation Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#practical-applications">Practical Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_03_2_procrustes_alignment.html#interactive-visualization-ideas">Interactive Visualization Ideas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_04_1_icp.html">Lecture 4.1: Iterative Closest Point</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#introduction-to-shape-alignment-and-registration">Introduction to Shape Alignment and Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#the-registration-problem">The Registration Problem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#review-procrustes-analysis">Review: Procrustes Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#problem-unknown-correspondences">Problem: Unknown Correspondences</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#the-iterative-closest-point-icp-algorithm">The Iterative Closest Point (ICP) Algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#basic-icp-algorithm">Basic ICP Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#computational-considerations">Computational Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lecture_04_1_icp.html#closest-point-computation">Closest Point Computation</a></li>
<li class="toctree-l4"><a class="reference internal" href="lecture_04_1_icp.html#convergence-and-local-minima">Convergence and Local Minima</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#point-to-point-vs-point-to-plane-icp">Point-to-Point vs. Point-to-Plane ICP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#point-to-point-icp">Point-to-Point ICP</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#point-to-plane-icp">Point-to-Plane ICP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#gradient-based-icp-for-non-rigid-registration">Gradient-based ICP for Non-Rigid Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#gradient-based-icp-algorithm">Gradient-based ICP Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#advantages-of-gradient-based-icp">Advantages of Gradient-based ICP</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#computing-gradients">Computing Gradients</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#improving-icp-s-robustness">Improving ICP’s Robustness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#data-association-direction">Data Association Direction</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#robust-cost-functions">Robust Cost Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#trimmed-icp">Trimmed ICP</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#ransac-based-approaches">RANSAC-based Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#additional-information">Additional Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#point-to-surface-distance">Point-to-Surface Distance</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#icp-variants-and-extensions">ICP Variants and Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#generalized-icp-gicp">Generalized ICP (GICP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#em-icp-and-probabilistic-approaches">EM-ICP and Probabilistic Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#coherent-point-drift-cpd">Coherent Point Drift (CPD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#multi-scale-approaches">Multi-Scale Approaches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#applications-of-icp">Applications of ICP</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#implementing-icp">Implementing ICP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#efficient-python-implementation">Efficient Python Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_1_icp.html#practical-tips">Practical Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_1_icp.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_04_2_body_models.html">Lecture 04.2 - Body Models: Vertex-Based Models and SMPL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#body-models-as-parameterized-functions">1. Body Models as Parameterized Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#rotations-articulation-and-pose-representation">2. Rotations, Articulation, and Pose Representation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#rotation-representation">2.1 Rotation Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#kinematic-chain">2.2 Kinematic Chain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#linear-blend-skinning-and-its-limitations">3. Linear Blend Skinning and its Limitations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#linear-blend-skinning">3.1 Linear Blend Skinning</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#problems-with-standard-lbs">3.2 Problems with Standard LBS</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#blend-shapes-for-correcting-lbs-artifacts">3.3 Blend Shapes for Correcting LBS Artifacts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#the-smpl-body-model">4. The SMPL Body Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#smpl-philosophy">4.1 SMPL Philosophy</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#smpl-model-architecture">4.2 SMPL Model Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#shape-blend-shapes">4.2.1 Shape Blend Shapes</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#pose-blend-shapes">4.2.2 Pose Blend Shapes</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#joint-regression">4.2.3 Joint Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#model-training">4.3 Model Training</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#comparison-with-scape">5. Comparison with SCAPE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#the-scape-model">5.1 The SCAPE Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#different-approaches-to-deformation">5.2 Different Approaches to Deformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#performance-comparison">5.3 Performance Comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#other-advantages">5.4 Other Advantages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#alignment-techniques-procrustes-analysis-and-icp">6. Alignment Techniques: Procrustes Analysis and ICP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#procrustes-analysis">6.1 Procrustes Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#iterative-closest-point-icp">6.2 Iterative Closest Point (ICP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#fitting-smpl-to-scans">6.3 Fitting SMPL to Scans</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#image-formation-and-the-pinhole-camera-model">7. Image Formation and the Pinhole Camera Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#the-pinhole-camera-model">7.1 The Pinhole Camera Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#lens-distortion">7.2 Lens Distortion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#extensions-and-advanced-applications">8. Extensions and Advanced Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#dynamic-soft-tissue-modeling">8.1 Dynamic Soft Tissue Modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#specialized-extensions">8.2 Specialized Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#deep-learning-for-model-fitting">8.3 Deep Learning for Model Fitting</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#probabilistic-approaches">8.4 Probabilistic Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_04_2_body_models.html#hybrid-models">8.5 Hybrid Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_04_2_body_models.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lecture_05_1_body_model_training.html">Lecture 5.1 - Training a Body Model and Fitting SMPL to Scans</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#body-models-based-on-triangle-deformations">Body Models Based on Triangle Deformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#scape-and-blendscape-models">SCAPE and BlendSCAPE Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#triangle-deformation-process">Triangle Deformation Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#comparison-smpl-vs-scape-blendscape">Comparison: SMPL vs. SCAPE/BlendSCAPE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#training-a-body-model-from-registrations">Training a Body Model from Registrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#the-challenge-of-raw-scan-data">The Challenge of Raw Scan Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#training-from-registrations">Training from Registrations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#obtaining-registrations-fitting-smpl-to-scans">Obtaining Registrations: Fitting SMPL to Scans</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#non-rigid-registration-process">Non-Rigid Registration Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#iterative-closest-point-icp-review">Iterative Closest Point (ICP) Review</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#registration-objective-formulation">Registration Objective Formulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#point-to-surface-distance">Point-to-Surface Distance</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#multi-stage-optimization-strategy">Multi-Stage Optimization Strategy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#joint-registration-and-model-training">Joint Registration and Model Training</a><ul>
<li class="toctree-l3"><a class="reference internal" href="lecture_05_1_body_model_training.html#co-registration-approach">Co-Registration Approach</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lecture_05_1_body_model_training.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-01-1-historical-body-models">Lecture 01.1 (Historical Body Models)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-01-2-introduction-to-human-models">Lecture 01.2 (Introduction to Human Models)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-01-3-introduction-to-human-models-continued">Lecture 01.3 (Introduction to Human Models Continued)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-02-1-image-formation">Lecture 02.1 (Image Formation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-02-2-rotations-kinematic-chains">Lecture 02.2 (Rotations &amp; Kinematic Chains)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-03-1-surface-representations">Lecture 03.1 (Surface Representations)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-03-2-procrustes-alignment">Lecture 03.2 (Procrustes Alignment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-04-1-iterative-closest-points">Lecture 04.1 (Iterative Closest Points)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-04-2-body-models">Lecture 04.2 (Body Models)</a></li>
<li class="toctree-l2"><a class="reference internal" href="references.html#lecture-05-1-body-model-training">Lecture 05.1 (Body Model Training)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Virtual Humans Lecture</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Lecture 02.2 – Rotations and Kinematic Chains</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lecture_02_2_rotations_kinematic_chains.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lecture-02-2-rotations-and-kinematic-chains">
<span id="lecture-02-2-rotations-kinematic-chains"></span><h1>Lecture 02.2 – Rotations and Kinematic Chains<a class="headerlink" href="#lecture-02-2-rotations-and-kinematic-chains" title="Link to this heading"></a></h1>
<iframe width="600" height="400" src="https://www.youtube.com/embed/APjxvowbcOI"
title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write;
encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p><a class="reference external" href="https://virtualhumans.mpi-inf.mpg.de/VH23/slides/pdf/Lecture_02_2_Rotation_KinematicChains.pdf">Lecture Slides: Rotations and Kinematic Chains</a></p>
<p>In this lecture, we explore different parameterizations of rotations and kinematic chains, which are core ingredients for modeling human motion. We’ll examine rotation matrices, Euler angles, quaternions, and twist-exponential maps, comparing their advantages and disadvantages. Then we’ll see how these parameterizations apply to articulated kinematic chains for controlling virtual humans.</p>
<p>When evaluating a parameterization for rotations or rigid body motion, we should consider:</p>
<ul class="simple">
<li><p><strong>Minimum number of parameters</strong>: This makes controlling characters easier, inference more efficient, and storage more lightweight.</p></li>
<li><p><strong>Avoiding singularities</strong>: Degenerate cases where degrees of freedom are lost or multiple parameter combinations produce the same result should be avoided.</p></li>
<li><p><strong>Ease of computing derivatives</strong>: How efficiently we can calculate changes in positions and orientations with respect to parameters is crucial for optimization.</p></li>
<li><p><strong>Placing biomechanical constraints</strong>: The ability to incorporate natural movement constraints (e.g., an elbow rotating along a single axis).</p></li>
<li><p><strong>Ease of motion concatenation</strong>: How easily we can accumulate motion over time, which is important for tracking and animation.</p></li>
</ul>
<section id="representations-of-3d-rotations">
<h2>1. Representations of 3D Rotations<a class="headerlink" href="#representations-of-3d-rotations" title="Link to this heading"></a></h2>
<p>First, let’s understand what a rotation actually is. Informally, a rotation is a linear transformation that:
- Preserves angles between vectors
- Preserves distances (length of vectors)
- Does not mirror the object (no reflection)</p>
<p>A key property to note is that rotations in 2D commute (order doesn’t matter), but rotations in 3D do not commute (order matters significantly).</p>
<p>3D rotations lie in the special orthogonal group <span class="math notranslate nohighlight">\(SO(3)\)</span>, i.e., all
<span class="math notranslate nohighlight">\(3\times 3\)</span> matrices <span class="math notranslate nohighlight">\(R\)</span> with <span class="math notranslate nohighlight">\(R^T R = I\)</span> and <span class="math notranslate nohighlight">\(\det(R)=+1\)</span>.
Because <span class="math notranslate nohighlight">\(SO(3)\)</span> is a non-linear manifold, we have multiple parameterizations:</p>
<section id="a-rotation-matrices">
<h3>A) Rotation Matrices<a class="headerlink" href="#a-rotation-matrices" title="Link to this heading"></a></h3>
<p>A rotation matrix <span class="math notranslate nohighlight">\(R \in SO(3)\)</span> is a <span class="math notranslate nohighlight">\(3\times 3\)</span> orthonormal matrix.
Applying it to a vector <span class="math notranslate nohighlight">\(v\)</span> yields <span class="math notranslate nohighlight">\(v' = R\,v\)</span>. Composing two rotations
is matrix multiplication: <span class="math notranslate nohighlight">\(R_2 R_1\)</span>, which is non-commutative in 3D.</p>
<p><strong>Understanding Rotation Matrices</strong>: Consider a point <span class="math notranslate nohighlight">\(P_B\)</span> expressed in body frame coordinates with coordinates <span class="math notranslate nohighlight">\((\lambda_x, \lambda_y, \lambda_z)\)</span>. To express this point in spatial (world) frame coordinates, we can write:</p>
<div class="math notranslate nohighlight">
\[P_S = \lambda_x X_{BS} + \lambda_y Y_{BS} + \lambda_z Z_{BS}\]</div>
<p>where <span class="math notranslate nohighlight">\(X_{BS}\)</span>, <span class="math notranslate nohighlight">\(Y_{BS}\)</span>, and <span class="math notranslate nohighlight">\(Z_{BS}\)</span> are the axes of the body frame expressed in spatial coordinates. This can be written in matrix form as:</p>
<div class="math notranslate nohighlight">
\[P_S = R_{SB} P_B\]</div>
<p>where <span class="math notranslate nohighlight">\(R_{SB}\)</span> is the rotation matrix mapping from body frame to spatial frame. The columns of <span class="math notranslate nohighlight">\(R_{SB}\)</span> are simply the axes of the body frame expressed in spatial coordinates.</p>
<p>There are two ways to interpret rotations (though mathematically identical):
1. <strong>Coordinate transformation</strong>: Moving between coordinate frames that are fixed in space
2. <strong>Motion</strong>: Actually rotating a point (or object) in space</p>
<p><strong>Important properties of rotation matrices</strong>:</p>
<div class="math notranslate nohighlight">
\[R^TR = RR^T = I\]</div>
<div class="math notranslate nohighlight">
\[\det(R) = 1\]</div>
<div class="math notranslate nohighlight">
\[R^T = R^{-1}\]</div>
<p>The columns (or rows) form an orthonormal basis</p>
<p><strong>Algorithm for enforcing orthogonality</strong>: When numerical errors accumulate, rotation matrices may drift from being perfectly orthogonal. A common correction method is:</p>
<ol class="arabic simple">
<li><p>Apply Gram-Schmidt orthogonalization to the columns</p></li>
<li><p>Use SVD: If <span class="math notranslate nohighlight">\(R = USV^T\)</span>, set <span class="math notranslate nohighlight">\(R' = UV^T\)</span> (discarding singular values)</p></li>
</ol>
<ul class="simple">
<li><p><strong>Pros</strong>: Directly used for transformations (OpenGL, DirectX). Often good for learning tasks due to its trigonometric nature.</p></li>
<li><p><strong>Cons</strong>: Uses 9 numbers to represent 3 degrees of freedom. Requires maintaining orthonormality constraints during optimization, which is inefficient.</p></li>
</ul>
</section>
<section id="b-euler-angles">
<h3>B) Euler Angles<a class="headerlink" href="#b-euler-angles" title="Link to this heading"></a></h3>
<p>A triple <span class="math notranslate nohighlight">\((\alpha,\beta,\gamma)\)</span> describing successive rotations about coordinate
axes (e.g., yaw/pitch/roll). These parameterize a rotation as three consecutive planar rotations.</p>
<p><strong>Basic 2D rotation matrices</strong>:
- Around x-axis:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}R_x(\theta) = \begin{pmatrix}
1 &amp; 0 &amp; 0 \\
0 &amp; \cos\theta &amp; -\sin\theta \\
0 &amp; \sin\theta &amp; \cos\theta
\end{pmatrix}\end{split}\]</div>
</div></blockquote>
<ul>
<li><p>Around y-axis:</p>
<div class="math notranslate nohighlight">
\[\begin{split}R_y(\theta) = \begin{pmatrix}
\cos\theta &amp; 0 &amp; \sin\theta \\
0 &amp; 1 &amp; 0 \\
-\sin\theta &amp; 0 &amp; \cos\theta
\end{pmatrix}\end{split}\]</div>
</li>
<li><p>Around z-axis:</p>
<div class="math notranslate nohighlight">
\[\begin{split}R_z(\theta) = \begin{pmatrix}
\cos\theta &amp; -\sin\theta &amp; 0 \\
\sin\theta &amp; \cos\theta &amp; 0 \\
0 &amp; 0 &amp; 1
\end{pmatrix}\end{split}\]</div>
</li>
</ul>
<p>A complete Euler angle rotation might look like:</p>
<div class="math notranslate nohighlight">
\[R = R_x(\alpha) R_y(\beta) R_z(\gamma)\]</div>
<p><strong>Important</strong>: When using Euler angles, two things must be specified:</p>
<ol class="arabic simple">
<li><p><strong>Convention</strong>: Which axes are being rotated around (e.g., XYZ, ZYX, ZXZ)</p></li>
<li><p><strong>Frame of reference</strong>: Whether rotations are happening in the static spatial frame or the moving body frame (extrinsic vs. intrinsic rotations)</p></li>
</ol>
<p><strong>Common Euler angle conventions</strong>:</p>
<ul class="simple">
<li><p><strong>ZYX</strong> (yaw-pitch-roll): Common in aerospace, robotics</p></li>
<li><p><strong>XYZ</strong>: Often used in computer graphics</p></li>
<li><p><strong>ZXZ</strong>: Used in physics and classical mechanics</p></li>
</ul>
<p><strong>Converting from rotation matrix to Euler angles (ZYX convention)</strong>:
Given a rotation matrix <span class="math notranslate nohighlight">\(R\)</span>, the Euler angles can be extracted as:</p>
<div class="math notranslate nohighlight">
\[\beta = \arctan2(-r_{31}, \sqrt{r_{11}^2 + r_{21}^2})\]</div>
<div class="math notranslate nohighlight">
\[\alpha = \arctan2(r_{21}, r_{11})\]</div>
<div class="math notranslate nohighlight">
\[\gamma = \arctan2(r_{32}, r_{33})\]</div>
<p>where <span class="math notranslate nohighlight">\(r_{ij}\)</span> is the element at row <span class="math notranslate nohighlight">\(i\)</span>, column <span class="math notranslate nohighlight">\(j\)</span> of matrix <span class="math notranslate nohighlight">\(R\)</span>. For the gimbal lock case (<span class="math notranslate nohighlight">\(\beta = \pm \pi/2\)</span>), special handling is required as <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\gamma\)</span> are not uniquely determined (only their sum or difference matters).</p>
<ul>
<li><p><strong>Pros</strong>: Intuitive for small rotations. Three parameters match the degrees of freedom. Common in animation.</p></li>
<li><p><strong>Cons</strong>: Suffers from gimbal lock—a configuration where one degree of freedom is lost. For example, with ZYX Euler angles, when <span class="math notranslate nohighlight">\(\theta_y = \pi/2\)</span>, the rotation matrix becomes:</p>
<div class="math notranslate nohighlight">
\[\begin{split}R = \begin{pmatrix}
0 &amp; -\sin(\theta_x+\theta_z) &amp; \cos(\theta_x+\theta_z) \\
0 &amp; -\cos(\theta_x+\theta_z) &amp; -\sin(\theta_x+\theta_z) \\
-1 &amp; 0 &amp; 0
\end{pmatrix}\end{split}\]</div>
<p>Notice that <span class="math notranslate nohighlight">\(\theta_x\)</span> and <span class="math notranslate nohighlight">\(\theta_z\)</span> only appear as a sum, so we’ve lost one degree of freedom—only their combined effect matters.</p>
</li>
</ul>
</section>
<section id="c-quaternions">
<h3>C) Quaternions<a class="headerlink" href="#c-quaternions" title="Link to this heading"></a></h3>
<p>Quaternions are 4D numbers <span class="math notranslate nohighlight">\(q = (w, x, y, z)\)</span> with <span class="math notranslate nohighlight">\(\|q\| = 1\)</span> for rotation.
To understand quaternions, it helps to first understand complex numbers as representing 2D rotations.</p>
<p><strong>Complex numbers as 2D rotations</strong>:
In a geometric interpretation, the imaginary unit <span class="math notranslate nohighlight">\(i\)</span> represents a quarter turn. Multiplying by <span class="math notranslate nohighlight">\(i\)</span> twice gives a half turn (<span class="math notranslate nohighlight">\(i^2 = -1\)</span>). Complex numbers can be expressed in polar form as <span class="math notranslate nohighlight">\(re^{i\theta}\)</span>, where <span class="math notranslate nohighlight">\(r\)</span> is the magnitude and <span class="math notranslate nohighlight">\(\theta\)</span> is the angle.</p>
<p>When we multiply complex numbers, the magnitudes multiply and the angles add:</p>
<div class="math notranslate nohighlight">
\[z_1 \cdot z_2 = r_1 e^{i\theta_1} \cdot r_2 e^{i\theta_2} = r_1 r_2 e^{i(\theta_1 + \theta_2)}\]</div>
<p><strong>Quaternions as an extension to 3D</strong>:
William Rowan Hamilton generalized complex numbers to 3D, discovering that you need 4 dimensions with the fundamental formula:</p>
<div class="math notranslate nohighlight">
\[i^2 = j^2 = k^2 = ijk = -1\]</div>
<p>A quaternion can be written as <span class="math notranslate nohighlight">\(q = q_w + q_x i + q_y j + q_z k\)</span> or more compactly as <span class="math notranslate nohighlight">\(q = (q_w, \vec{v})\)</span> where <span class="math notranslate nohighlight">\(\vec{v} = (q_x, q_y, q_z)\)</span>.</p>
<p><strong>Multiplication rules for quaternion basis elements</strong>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(i^2 = j^2 = k^2 = -1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(ij = k\)</span>, <span class="math notranslate nohighlight">\(jk = i\)</span>, <span class="math notranslate nohighlight">\(ki = j\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(ji = -k\)</span>, <span class="math notranslate nohighlight">\(kj = -i\)</span>, <span class="math notranslate nohighlight">\(ik = -j\)</span></p></li>
</ul>
<p>For a rotation by angle <span class="math notranslate nohighlight">\(\theta\)</span> around a <strong>unit</strong> axis
<span class="math notranslate nohighlight">\(k = (k_x, k_y, k_z)\)</span>, the corresponding quaternion is:</p>
<div class="math notranslate nohighlight">
\[q \;=\;
\Bigl(
    \cos\!\tfrac{\theta}{2},\;
    k_x\,\sin\!\tfrac{\theta}{2},\;
    k_y\,\sin\!\tfrac{\theta}{2},\;
    k_z\,\sin\!\tfrac{\theta}{2}
\Bigr)\]</div>
<p><strong>Quaternion operations</strong>:</p>
<ul class="simple">
<li><p>Conjugate: <span class="math notranslate nohighlight">\(q^* = (q_w, -\vec{v})\)</span></p></li>
<li><p>Norm: <span class="math notranslate nohighlight">\(\|q\| = \sqrt{q_w^2 + q_x^2 + q_y^2 + q_z^2}\)</span></p></li>
<li><p>Inverse: <span class="math notranslate nohighlight">\(q^{-1} = q^*/\|q\|^2\)</span> (for unit quaternions, <span class="math notranslate nohighlight">\(q^{-1} = q^*\)</span>)</p></li>
</ul>
<p>The quaternion product for two quaternions <span class="math notranslate nohighlight">\(q_1 = (w_1, \vec{v}_1)\)</span> and <span class="math notranslate nohighlight">\(q_2 = (w_2, \vec{v}_2)\)</span> is:</p>
<div class="math notranslate nohighlight">
\[q_1 q_2 = (w_1 w_2 - \vec{v}_1 \cdot \vec{v}_2, w_1 \vec{v}_2 + w_2 \vec{v}_1 + \vec{v}_1 \times \vec{v}_2)\]</div>
<p><strong>Derivation of quaternion product</strong>:
The quaternion product can be derived by expanding using the definitions:</p>
<div class="math notranslate nohighlight">
\[q_1 q_2 = (w_1 + x_1i + y_1j + z_1k)(w_2 + x_2i + y_2j + z_2k)\]</div>
<p>Expanding and applying the multiplication rules:</p>
<div class="math notranslate nohighlight">
\[(w_1w_2 - x_1x_2 - y_1y_2 - z_1z_2) + (w_1x_2 + x_1w_2 + y_1z_2 - z_1y_2)i + (w_1y_2 - x_1z_2 + y_1w_2 + z_1x_2)j + (w_1z_2 + x_1y_2 - y_1x_2 + z_1w_2)k\]</div>
<p>This can be rewritten more compactly using vector operations as shown above.</p>
<p>To rotate a vector <span class="math notranslate nohighlight">\(v\)</span> by a quaternion <span class="math notranslate nohighlight">\(q\)</span>, we use:</p>
<div class="math notranslate nohighlight">
\[v' = q v q^*\]</div>
<p>Where <span class="math notranslate nohighlight">\(v\)</span> is treated as a pure quaternion <span class="math notranslate nohighlight">\((0, v)\)</span> with zero scalar part. The formula expands to:</p>
<div class="math notranslate nohighlight">
\[v' = q (0, v) q^*\]</div>
<p>This can also be written as a matrix-vector multiplication, where a quaternion <span class="math notranslate nohighlight">\(q=(w,x,y,z)\)</span> can be converted to a rotation matrix:</p>
<div class="math notranslate nohighlight">
\[\begin{split}R(q) = \begin{pmatrix}
1-2y^2-2z^2 &amp; 2xy-2wz &amp; 2xz+2wy \\
2xy+2wz &amp; 1-2x^2-2z^2 &amp; 2yz-2wx \\
2xz-2wy &amp; 2yz+2wx &amp; 1-2x^2-2y^2
\end{pmatrix}\end{split}\]</div>
<p><strong>Quaternion SLERP (Spherical Linear Interpolation)</strong> is excellent for interpolating between orientations:</p>
<div class="math notranslate nohighlight">
\[q(t) = q_0 (q_0^{-1} q_1)^t\]</div>
<p>where <span class="math notranslate nohighlight">\(t \in [0, 1]\)</span> and <span class="math notranslate nohighlight">\(q_0\)</span> and <span class="math notranslate nohighlight">\(q_1\)</span> are the start and end orientations.</p>
<p><strong>Computational formula for SLERP</strong>:
If <span class="math notranslate nohighlight">\(\cos\theta = q_0 \cdot q_1\)</span> is the dot product between unit quaternions:</p>
<div class="math notranslate nohighlight">
\[q(t) = \frac{\sin((1-t)\theta)}{\sin\theta}q_0 + \frac{\sin(t\theta)}{\sin\theta}q_1\]</div>
<p>For small angles or numerical stability, a linear interpolation followed by normalization (NLERP) is often used as an approximation:</p>
<div class="math notranslate nohighlight">
\[q(t) = \frac{(1-t)q_0 + tq_1}{\|(1-t)q_0 + tq_1\|}\]</div>
<p><strong>Converting from rotation matrix to quaternion</strong>:
Given a rotation matrix <span class="math notranslate nohighlight">\(R\)</span>:</p>
<div class="math notranslate nohighlight">
\[w = \frac{1}{2}\sqrt{1 + r_{11} + r_{22} + r_{33}}\]</div>
<div class="math notranslate nohighlight">
\[x = \frac{r_{32} - r_{23}}{4w}\]</div>
<div class="math notranslate nohighlight">
\[y = \frac{r_{13} - r_{31}}{4w}\]</div>
<div class="math notranslate nohighlight">
\[z = \frac{r_{21} - r_{12}}{4w}\]</div>
<p>When <span class="math notranslate nohighlight">\(w\)</span> is close to zero, alternative formulas must be used to avoid numerical instability.</p>
<ul class="simple">
<li><p><strong>Pros</strong>: No gimbal lock. Computationally efficient. Perfect for interpolation. Derivatives exist and are linearly independent.</p></li>
<li><p><strong>Cons</strong>: Four numbers for 3 DOF. Requires unit norm constraint in optimization. Sign ambiguity <span class="math notranslate nohighlight">\(q \leftrightarrow -q\)</span>.</p></li>
</ul>
</section>
</section>
<section id="lie-algebra-so-3-and-exponential-map">
<h2>2. Lie Algebra <span class="math notranslate nohighlight">\(so(3)\)</span> and Exponential Map<a class="headerlink" href="#lie-algebra-so-3-and-exponential-map" title="Link to this heading"></a></h2>
<p><span class="math notranslate nohighlight">\(SO(3)\)</span> is a Lie group—a continuously differentiable manifold with group properties. Its Lie algebra is <span class="math notranslate nohighlight">\(so(3)\)</span>, the space
of all <span class="math notranslate nohighlight">\(3\times 3\)</span> real skew-symmetric matrices:</p>
<div class="math notranslate nohighlight">
\[so(3) \;=\; \{\,A \in \mathbb{R}^{3\times 3}\,\mid\, A^T = -A\,\}.\]</div>
<p>Any <span class="math notranslate nohighlight">\(A\in so(3)\)</span> can be written:</p>
<div class="math notranslate nohighlight">
\[\begin{split}A \;=\;
\begin{pmatrix}
      0 &amp; -\gamma &amp; \beta \\
      \gamma &amp; 0 &amp; -\alpha \\
      -\beta &amp; \alpha &amp; 0
\end{pmatrix}\end{split}\]</div>
<p>Given a vector <span class="math notranslate nohighlight">\(w = (w_1, w_2, w_3)\)</span>, we can define the skew-symmetric matrix:</p>
<div class="math notranslate nohighlight">
\[\begin{split}[w]_\times =
\begin{pmatrix}
      0 &amp; -w_3 &amp; w_2 \\
      w_3 &amp; 0 &amp; -w_1 \\
      -w_2 &amp; w_1 &amp; 0
\end{pmatrix}\end{split}\]</div>
<p>This skew-symmetric matrix has the property that for any vector <span class="math notranslate nohighlight">\(p\)</span>:</p>
<div class="math notranslate nohighlight">
\[[w]_\times p = w \times p\]</div>
<p>That is, the matrix represents the cross product operation.</p>
<p><strong>Properties of skew-symmetric matrices</strong>:
For <span class="math notranslate nohighlight">\(\hat{\omega} = [\omega]_\times\)</span> where <span class="math notranslate nohighlight">\(\omega\)</span> is a unit vector:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\hat{\omega}^2 = \omega\omega^T - I\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{\omega}^3 = -\hat{\omega}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{\omega}^4 = -\hat{\omega}^2\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{\omega}^{2n} = (-1)^n\hat{\omega}^2\)</span> for <span class="math notranslate nohighlight">\(n \geq 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{\omega}^{2n+1} = (-1)^n\hat{\omega}\)</span> for <span class="math notranslate nohighlight">\(n \geq 1\)</span></p></li>
</ul>
<p>These properties are crucial for deriving Rodrigues’ formula.</p>
<p><strong>Exponential Map</strong>
Exponentiating <span class="math notranslate nohighlight">\(A\in so(3)\)</span> yields a rotation matrix in <span class="math notranslate nohighlight">\(SO(3)\)</span>:</p>
<div class="math notranslate nohighlight">
\[R \;=\; \exp(A) \;=\; I \;+\; A \;+\; \tfrac{1}{2!}A^2 \;+\; \tfrac{1}{3!}A^3 \;+\;\dots\]</div>
<p>If we have a vector <span class="math notranslate nohighlight">\(w\)</span> with <span class="math notranslate nohighlight">\(\|w\| = \theta\)</span>, we get a rotation by angle <span class="math notranslate nohighlight">\(\theta\)</span> about axis
<span class="math notranslate nohighlight">\(w/\|w\|\)</span>.</p>
<p><strong>Derivation of the exponential map</strong>:
For <span class="math notranslate nohighlight">\(A = [w]_\times\)</span> where <span class="math notranslate nohighlight">\(\|w\| = \theta\)</span> and <span class="math notranslate nohighlight">\(\hat{w} = w/\|w\|\)</span> is a unit vector, we group the infinite series of the matrix exponential:</p>
<div class="math notranslate nohighlight">
\[\exp(A) = I + A + \frac{1}{2!}A^2 + \frac{1}{3!}A^3 + \cdots\]</div>
<p>Using the properties of skew-symmetric matrices, we can separate even and odd powers:</p>
<div class="math notranslate nohighlight">
\[\exp(A) = I + \frac{A^2}{2!} + \frac{A^4}{4!} + \cdots + A\left(1 + \frac{A^2}{3!} + \frac{A^4}{5!} + \cdots \right)\]</div>
<p>With <span class="math notranslate nohighlight">\(A = \theta[\hat{w}]_\times\)</span>, this becomes:</p>
<div class="math notranslate nohighlight">
\[\exp(\theta[\hat{w}]_\times) = I + \frac{(\theta[\hat{w}]_\times)^2}{2!} + \frac{(\theta[\hat{w}]_\times)^4}{4!} + \cdots + \theta[\hat{w}]_\times\left(1 + \frac{(\theta[\hat{w}]_\times)^2}{3!} + \cdots \right)\]</div>
<p>Using the properties above, and recognizing the series expansions of sine and cosine:</p>
<div class="math notranslate nohighlight">
\[\exp(\theta[\hat{w}]_\times) = I + \sin\theta[\hat{w}]_\times + (1-\cos\theta)[\hat{w}]_\times^2\]</div>
<p>This is Rodrigues’ rotation formula.</p>
<p><strong>Physical Interpretation of the Exponential Map</strong>:
The exponential map comes from the differential equation for rotating a point <span class="math notranslate nohighlight">\(P_s\)</span> around an axis <span class="math notranslate nohighlight">\(w\)</span>:</p>
<div class="math notranslate nohighlight">
\[\dot{P}(t) = w \times P(t) = [w]_\times P(t)\]</div>
<p>The solution to this differential equation is:</p>
<div class="math notranslate nohighlight">
\[P(t) = e^{[w]_\times t} P(0)\]</div>
<p>This is why we use the exponential to represent rotations—it integrates the angular velocity over time.</p>
<p><strong>Logarithmic map (inverse of exponential map)</strong>:
The logarithm of a rotation matrix <span class="math notranslate nohighlight">\(R\)</span> gives the corresponding element in <span class="math notranslate nohighlight">\(so(3)\)</span>:</p>
<div class="math notranslate nohighlight">
\[\log(R) = \theta [\hat{w}]_\times\]</div>
<p>Where:</p>
<ul>
<li><p><span class="math notranslate nohighlight">\(\theta = \arccos((tr(R) - 1)/2)\)</span> is the rotation angle</p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{w}\)</span> is the unit rotation axis extracted from:</p>
<div class="math notranslate nohighlight">
\[[\hat{w}]_\times = \frac{R - R^T}{2\sin\theta}\]</div>
</li>
</ul>
<p>For small rotations or when <span class="math notranslate nohighlight">\(\theta \approx 0\)</span> (when <span class="math notranslate nohighlight">\(tr(R) \approx 3\)</span>), special handling is required to avoid numerical issues.</p>
</section>
<section id="rodrigues-rotation-formula">
<h2>3. Rodrigues’ Rotation Formula<a class="headerlink" href="#rodrigues-rotation-formula" title="Link to this heading"></a></h2>
<p>Rodrigues’ formula provides a closed-form expression for the exponential map, avoiding the need to compute the infinite Taylor series.</p>
<p>Given a unit axis <span class="math notranslate nohighlight">\(k=(k_x,k_y,k_z)\)</span> and angle <span class="math notranslate nohighlight">\(\theta\)</span>:</p>
<div class="math notranslate nohighlight">
\[R(\theta, k) \;=\; I \;+\; (\sin\theta)\,[k]_\times
                   \;+\; (1-\cos\theta)\,[k]_\times^2,\]</div>
<p>where <span class="math notranslate nohighlight">\([k]_\times\)</span> is the skew-symmetric matrix of <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p><strong>Computing</strong> <span class="math notranslate nohighlight">\([k]_\times^2\)</span> <strong>explicitly</strong>:
For <span class="math notranslate nohighlight">\(k = (k_x, k_y, k_z)\)</span> with <span class="math notranslate nohighlight">\(\|k\| = 1\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}[k]_\times^2 =
\begin{pmatrix}
-k_y^2-k_z^2 &amp; k_xk_y &amp; k_xk_z \\
k_xk_y &amp; -k_x^2-k_z^2 &amp; k_yk_z \\
k_xk_z &amp; k_yk_z &amp; -k_x^2-k_y^2
\end{pmatrix}
= kk^T - I\end{split}\]</div>
<p>This identity simplifies the implementation of Rodrigues’ formula.</p>
<p><strong>Vector Form</strong>:  For any <span class="math notranslate nohighlight">\(v\in\mathbb{R}^3\)</span>,</p>
<div class="math notranslate nohighlight">
\[v_{\text{rot}} \;=\; v\,\cos\theta \;+\; (k \times v)\,\sin\theta
                    \;+\; k\,(k\cdot v)\,(1-\cos\theta).\]</div>
<p><strong>Derivation of vector form</strong>:
Applying the matrix form to a vector <span class="math notranslate nohighlight">\(v\)</span>:</p>
<div class="math notranslate nohighlight">
\[Rv = (I + \sin\theta[k]_\times + (1-\cos\theta)[k]_\times^2)v\]</div>
<p>Expanding using <span class="math notranslate nohighlight">\([k]_\times v = k \times v\)</span> and <span class="math notranslate nohighlight">\([k]_\times^2 v = k(k \cdot v) - v\)</span>:</p>
<div class="math notranslate nohighlight">
\[Rv = v + \sin\theta(k \times v) + (1-\cos\theta)(k(k \cdot v) - v)\]</div>
<p>Simplifying:</p>
<div class="math notranslate nohighlight">
\[Rv = v\cos\theta + (k \times v)\sin\theta + k(k \cdot v)(1-\cos\theta)\]</div>
<p>This formula has a nice geometric interpretation:
- The first term <span class="math notranslate nohighlight">\(v\cos\theta\)</span> scales the original vector.
- The second term <span class="math notranslate nohighlight">\((k \times v)\sin\theta\)</span> adds a perpendicular component for rotation.
- The third term <span class="math notranslate nohighlight">\(k\,(k\cdot v)\,(1-\cos\theta)\)</span> is a correction for the parallel component.</p>
<p><strong>Extending to Translation with Twist Coordinates</strong>:</p>
<p>To represent both rotation and translation (a full rigid body motion), we can use twist coordinates:</p>
<div class="math notranslate nohighlight">
\[\xi = (\omega, v) \in \mathbb{R}^6\]</div>
<p>where <span class="math notranslate nohighlight">\(\omega\)</span> is the rotation axis (scaled by angle) and <span class="math notranslate nohighlight">\(v\)</span> relates to translation. These six numbers can be arranged into a twist matrix:</p>
<div class="math notranslate nohighlight">
\[\begin{split}[\xi]_\times =
\begin{pmatrix}
[\omega]_\times &amp; v \\
0 &amp; 0
\end{pmatrix}\end{split}\]</div>
<p><strong>Exponential of a twist</strong>:
For twist <span class="math notranslate nohighlight">\(\xi = (\omega, v)\)</span> with <span class="math notranslate nohighlight">\(\|\omega\| = \theta &gt; 0\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\exp([\xi]_\times) =
\begin{pmatrix}
\exp([\omega]_\times) &amp; Gv \\
0 &amp; 1
\end{pmatrix}\end{split}\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\exp([\omega]_\times)\)</span> is the rotation matrix from Rodrigues’ formula</p></li>
<li><p><span class="math notranslate nohighlight">\(G = I\theta + (1-\cos\theta)[\omega]_\times + (\theta-\sin\theta)[\omega]_\times^2\)</span></p></li>
</ul>
<p>For the special case when <span class="math notranslate nohighlight">\(\omega = 0\)</span> (pure translation):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\exp([\xi]_\times) =
\begin{pmatrix}
I &amp; v \\
0 &amp; 1
\end{pmatrix}\end{split}\]</div>
<p>The exponential of this matrix gives us the full rigid body motion matrix (a 4×4 matrix including translation).</p>
<p><strong>Rodrigues’ Parameters</strong>:
An alternative way to represent rotations is using Rodrigues’ parameters:</p>
<div class="math notranslate nohighlight">
\[\rho = \tan(\theta/2)\hat{\omega}\]</div>
<p>These provide a minimal 3-parameter representation but have a singularity at <span class="math notranslate nohighlight">\(\theta = \pm\pi\)</span>.</p>
<p><strong>Modified Rodrigues Parameters (MRPs)</strong>:
A variation that moves the singularity to <span class="math notranslate nohighlight">\(\theta = \pm2\pi\)</span>:</p>
<div class="math notranslate nohighlight">
\[\sigma = \tan(\theta/4)\hat{\omega}\]</div>
<p>MRPs are useful in attitude control and estimation.</p>
</section>
<section id="kinematic-chains-forward-inverse-kinematics">
<h2>4. Kinematic Chains: Forward &amp; Inverse Kinematics<a class="headerlink" href="#kinematic-chains-forward-inverse-kinematics" title="Link to this heading"></a></h2>
<p>A <em>kinematic chain</em> models an articulated structure like the human skeleton as a sequence of rigid segments connected by joints.</p>
<p><strong>Forward Kinematics (FK)</strong>:
Given joint angles, compute the position of end effectors (e.g., hands, feet):</p>
<div class="math notranslate nohighlight">
\[G_{SB}(\theta) = G_{SB}(0) \prod_{i=1}^n e^{[\xi_i]\theta_i}\]</div>
<p>where:
- <span class="math notranslate nohighlight">\(G_{SB}(\theta)\)</span> is the transformation from body to spatial frame
- <span class="math notranslate nohighlight">\(G_{SB}(0)\)</span> is the transformation in the rest pose
- <span class="math notranslate nohighlight">\(\xi_i\)</span> are the twist coordinates for each joint
- <span class="math notranslate nohighlight">\(\theta_i\)</span> are the joint angles</p>
<p><strong>Product of Exponentials (PoE) derivation</strong>:
For a serial chain with <span class="math notranslate nohighlight">\(n\)</span> joints where the <span class="math notranslate nohighlight">\(i\)</span>-th joint contributes a twist motion <span class="math notranslate nohighlight">\(\xi_i\)</span>:</p>
<ol class="arabic simple">
<li><p>Define the “home configuration” <span class="math notranslate nohighlight">\(M \in SE(3)\)</span> as the end-effector pose when all joint variables are zero</p></li>
<li><p>Define a twist <span class="math notranslate nohighlight">\(\xi_i\)</span> for each joint, expressed in the space frame at the home configuration</p></li>
<li><p>For a given set of joint values <span class="math notranslate nohighlight">\(\theta = (\theta_1, \ldots, \theta_n)\)</span>, the end-effector pose is:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[T(\theta) = e^{[\xi_1]\theta_1}e^{[\xi_2]\theta_2}\cdots e^{[\xi_n]\theta_n}M\]</div>
<p>This formula is exact and accounts for the full 3D kinematics.</p>
<p><strong>Types of Joints and Their Twists</strong>:</p>
<ul class="simple">
<li><p><strong>Revolute Joint</strong> (1 DOF rotation): <span class="math notranslate nohighlight">\(\xi = (\omega, -\omega \times q)\)</span> where <span class="math notranslate nohighlight">\(\omega\)</span> is the unit axis of rotation and <span class="math notranslate nohighlight">\(q\)</span> is a point on the axis.</p></li>
<li><p><strong>Prismatic Joint</strong> (1 DOF translation): <span class="math notranslate nohighlight">\(\xi = (0, v)\)</span> where <span class="math notranslate nohighlight">\(v\)</span> is the unit direction of translation.</p></li>
<li><p><strong>Spherical Joint</strong> (3 DOF rotation): Represented as three revolute joints with orthogonal axes intersecting at a point.</p></li>
<li><p><strong>Universal Joint</strong> (2 DOF): Represented as two revolute joints with orthogonal axes intersecting at a point.</p></li>
</ul>
<p><strong>Inverse Kinematics (IK)</strong>:
Given a desired end-effector pose, find the joint angles:</p>
<div class="math notranslate nohighlight">
\[\min_{\theta_1,...,\theta_n} \|X_a - X_b\|^2\]</div>
<p>This is typically a non-linear problem solved using the Jacobian, which maps small changes in joint angles to small changes in end-effector position:</p>
<div class="math notranslate nohighlight">
\[J(\theta) = [\xi'_1, \xi'_2, ..., \xi'_n]\]</div>
<p>where <span class="math notranslate nohighlight">\(\xi'_i\)</span> are the twist coordinates transformed to the current configuration.</p>
<p><strong>Computation of the Jacobian</strong>:
For a serial chain with <span class="math notranslate nohighlight">\(n\)</span> joints, the spatial Jacobian columns are:</p>
<div class="math notranslate nohighlight">
\[J_i = Ad_{e^{[\xi_1]\theta_1}\cdots e^{[\xi_{i-1}]\theta_{i-1}}}(\xi_i)\]</div>
<p>Where <span class="math notranslate nohighlight">\(Ad\)</span> is the adjoint transformation that maps twists between different coordinate frames. For revolute joints, this simplifies to:</p>
<div class="math notranslate nohighlight">
\[\begin{split}J_i =
\begin{pmatrix}
\omega_i \\
p_{i-1,n} \times \omega_i
\end{pmatrix}\end{split}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\omega_i\)</span> is the axis of the <span class="math notranslate nohighlight">\(i\)</span>-th joint after being transformed by previous joints, and <span class="math notranslate nohighlight">\(p_{i-1,n}\)</span> is the vector from joint <span class="math notranslate nohighlight">\(i\)</span> to the end-effector.</p>
<p>The Jacobian gives us a linearization:</p>
<div class="math notranslate nohighlight">
\[\Delta X = J(\theta) \Delta \theta\]</div>
<p>This allows us to solve IK iteratively:</p>
<div class="math notranslate nohighlight">
\[\Delta \theta = J^+ \Delta X\]</div>
<p>where <span class="math notranslate nohighlight">\(J^+\)</span> is the pseudoinverse of the Jacobian.</p>
<p><strong>Pseudoinverse computation</strong>:
For a Jacobian <span class="math notranslate nohighlight">\(J\)</span>:</p>
<div class="math notranslate nohighlight">
\[J^+ = J^T(JJ^T)^{-1}\]</div>
<p>When <span class="math notranslate nohighlight">\(J\)</span> is singular or near-singular (at singularities), damped least squares provides numerical stability:</p>
<div class="math notranslate nohighlight">
\[J^+ = J^T(JJ^T + \lambda^2 I)^{-1}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\lambda\)</span> is a damping factor.</p>
<p><strong>IK Algorithm (Damped Least Squares)</strong>:</p>
<ol class="arabic simple">
<li><p>Initialize joint angles <span class="math notranslate nohighlight">\(\theta^{(0)}\)</span></p></li>
<li><p>For iteration <span class="math notranslate nohighlight">\(k = 0, 1, 2, ...\)</span>:
a. Compute forward kinematics <span class="math notranslate nohighlight">\(X(\theta^{(k)})\)</span>
b. Compute error: <span class="math notranslate nohighlight">\(e = X_{desired} - X(\theta^{(k)})\)</span>
c. Compute Jacobian <span class="math notranslate nohighlight">\(J(\theta^{(k)})\)</span>
d. Update: <span class="math notranslate nohighlight">\(\theta^{(k+1)} = \theta^{(k)} + J^+(\theta^{(k)})e\)</span>
e. Check for convergence or maximum iterations</p></li>
</ol>
<p><strong>Handling Joint Limits</strong>:
For practical applications, joints often have limits. A weighted damped least squares approach can be used:</p>
<div class="math notranslate nohighlight">
\[\Delta \theta = (J^TW_xJ + W_\theta)^{-1}(J^TW_xe - W_\theta(\theta - \theta_{mid}))\]</div>
<p>Where:
- <span class="math notranslate nohighlight">\(W_x\)</span> is a weighting matrix for task space
- <span class="math notranslate nohighlight">\(W_\theta\)</span> is a weighting matrix for joint space
- <span class="math notranslate nohighlight">\(\theta_{mid}\)</span> are the midpoints of joint ranges</p>
<p>The weights in <span class="math notranslate nohighlight">\(W_\theta\)</span> can be adjusted to increasingly penalize joints as they approach their limits:</p>
<div class="math notranslate nohighlight">
\[W_{\theta,ii} = w_0 + \frac{w_s}{(\theta_{max,i} - \theta_i)(\theta_i - \theta_{min,i})}\]</div>
<p>Where <span class="math notranslate nohighlight">\(w_0\)</span> is a small base weight and <span class="math notranslate nohighlight">\(w_s\)</span> is a scaling factor.</p>
<p><strong>Null Space Projection</strong>:
For redundant manipulators (more DOFs than task constraints), secondary objectives can be optimized in the null space:</p>
<div class="math notranslate nohighlight">
\[\Delta \theta = J^+\Delta X + (I - J^+J)z\]</div>
<p>Where <span class="math notranslate nohighlight">\(z\)</span> is a vector pointing in the direction of optimization for secondary objectives (e.g., avoiding joint limits, obstacles, or singularities).</p>
<p><strong>Singularity-Robust IK</strong>:
Near singularities, the standard damped least squares approach can be enhanced with a variable damping factor:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\lambda^2 = \begin{cases}
0 &amp; \text{if } \sigma_{min} &gt; \epsilon \\
\lambda_0^2(1 - \frac{\sigma_{min}^2}{\epsilon^2}) &amp; \text{if } \sigma_{min} \leq \epsilon
\end{cases}\end{split}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\sigma_{min}\)</span> is the smallest singular value of the Jacobian, <span class="math notranslate nohighlight">\(\epsilon\)</span> is a threshold, and <span class="math notranslate nohighlight">\(\lambda_0\)</span> is the maximum damping factor.</p>
<p><strong>Practical Applications for Human Body Modeling</strong>:</p>
<p>In the SMPL model (a widely used parametric human body model), kinematic chains are used with twist coordinates to represent the articulated human skeleton. Each joint can be modeled as having:
- A fixed axis of rotation with variable angle (e.g., hinge joints like elbows)
- Multiple degrees of freedom (e.g., ball joints like shoulders)</p>
<p><strong>SMPL model formulation</strong>:
The SMPL model represents the human body as:</p>
<div class="math notranslate nohighlight">
\[T(\beta, \theta) = W(T_P(\beta, \theta), J(\beta), \theta, \mathcal{W})\]</div>
<p>Where:
- <span class="math notranslate nohighlight">\(\beta\)</span> are shape parameters
- <span class="math notranslate nohighlight">\(\theta\)</span> are pose parameters (joint angles)
- <span class="math notranslate nohighlight">\(T_P\)</span> is a template mesh deformed by pose and shape
- <span class="math notranslate nohighlight">\(J(\beta)\)</span> are joint locations
- <span class="math notranslate nohighlight">\(W\)</span> is a skinning function with weights <span class="math notranslate nohighlight">\(\mathcal{W}\)</span></p>
<p>The joint rotations are parametrized using axis-angle representation, which can be converted to rotation matrices using Rodrigues’ formula.</p>
<p><strong>Practical IK Implementations for Human Models</strong>:
When applying IK to human models, special considerations include:</p>
<ol class="arabic simple">
<li><p><strong>Biomechanical constraints</strong>: Human joints have physical limits (e.g., elbows don’t bend backwards)</p></li>
<li><p><strong>Posture naturalness</strong>: Solutions that satisfy end-effector positions may still look unnatural</p></li>
<li><p><strong>Joint coupling</strong>: Some human joints have coupled motion (e.g., finger joints)</p></li>
</ol>
<p>These are often addressed by:
- Using data-driven priors for natural poses
- Adding energy terms to penalize unnatural configurations
- Defining hierarchy of task priorities (e.g., feet placement &gt; hand position &gt; gaze direction)</p>
<p><strong>Full-Body IK</strong>:
For full-body human IK, the problem is often decomposed into:</p>
<ol class="arabic simple">
<li><p><strong>Root positioning</strong>: Placing the hip/pelvis in global space</p></li>
<li><p><strong>Lower-body IK</strong>: Solving for legs to maintain balance and foot placement</p></li>
<li><p><strong>Upper-body IK</strong>: Solving for arms, spine, and head</p></li>
</ol>
<p>A common approach is a multi-stage IK with prioritization:
- Primary tasks: Balance constraints, foot placement
- Secondary tasks: Hand positions, gaze direction
- Tertiary tasks: Joint limit avoidance, pose naturalness</p>
</section>
<section id="comparison-of-rotation-representations">
<h2>Comparison of Rotation Representations<a class="headerlink" href="#comparison-of-rotation-representations" title="Link to this heading"></a></h2>
<p>Here is a summary comparison of the different rotation parameterizations:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Representation</p></th>
<th class="head"><p>Advantages</p></th>
<th class="head"><p>Disadvantages</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Rotation Matrices</strong></p></td>
<td><ul class="simple">
<li><p>Direct transformation</p></li>
<li><p>Easy to understand</p></li>
<li><p>Good for learning</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>9 numbers for 3 DOF</p></li>
<li><p>Orthogonality
constraints</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Euler Angles</strong></p></td>
<td><ul class="simple">
<li><p>Only 3 parameters</p></li>
<li><p>Intuitive angles</p></li>
<li><p>Simple to manipulate</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>Gimbal lock</p></li>
<li><p>Order dependence</p></li>
<li><p>Complex concatenation</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>Quaternions</strong></p></td>
<td><ul class="simple">
<li><p>No singularities</p></li>
<li><p>Stable interpolation</p></li>
<li><p>Efficient products</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>4 parameters for 3 DOF</p></li>
<li><p>Unit norm constraint</p></li>
<li><p>Less intuitive</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Twist/Axis-Angle</strong></p></td>
<td><ul class="simple">
<li><p>Only 3 parameters</p></li>
<li><p>Clear geometric
interpretation</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>Singular at zero angle</p></li>
<li><p>Not suitable for
parameter addition</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Recommended Choices</strong>:
- For optimization and machine learning: Twist coordinates or quaternions
- For interpolation: Quaternions (SLERP)
- For intuitive control: Euler angles or axis-angle
- For direct transformation: Rotation matrices</p>
<p><strong>Conversion Between Representations</strong>:
In practice, it’s often necessary to convert between different representations:</p>
<ol class="arabic simple">
<li><p><strong>Rotation Matrix to Euler Angles</strong>:
- Extract angles using arctangent functions as described earlier
- Handle special cases like gimbal lock</p></li>
<li><p><strong>Rotation Matrix to Axis-Angle</strong>:
- Extract angle: <span class="math notranslate nohighlight">\(\theta = \arccos(\frac{\text{tr}(R) - 1}{2})\)</span>
- Extract axis: <span class="math notranslate nohighlight">\(\hat{\omega} = \frac{1}{2\sin\theta}(r_{32} - r_{23}, r_{13} - r_{31}, r_{21} - r_{12})^T\)</span></p></li>
<li><p><strong>Axis-Angle to Quaternion</strong>:
- <span class="math notranslate nohighlight">\(q = (\cos\frac{\theta}{2}, \hat{\omega}\sin\frac{\theta}{2})\)</span></p></li>
<li><p><strong>Quaternion to Rotation Matrix</strong>:
- Use the formula shown in the quaternion section</p></li>
</ol>
<p>Each conversion may have numerical considerations, especially near singularities or special cases.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="lecture_02_1_image_formation.html" class="btn btn-neutral float-left" title="Lecture 02.1 – Image Formation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lecture_03_1_surface_representations.html" class="btn btn-neutral float-right" title="Lecture 03.1 – Surface Representations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>